<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Clickable Items 模组</title>
    <url>/2023/clickable-items/</url>
    <content><![CDATA[<p>本模组为服务器添加了一种通过为物品添加NBT标签来使得物品在被「使用」（默认右键点击）时运行命令的方法。</p>
<p>具体的使用方法为：在使用<code>give</code>命令（或<code>item</code>命令、可以生成物品实体的命令等）给予玩家物品时，在物品的NBT中添加一个<code>Interaction</code>标签。</p>
<h1 id="使用教程"><a href="#使用教程" class="headerlink" title="使用教程"></a>使用教程</h1><h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><p>例子：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">give @s diamond&#123;Interaction:&quot;/gamemode creative&quot;&#125;</span><br></pre></td></tr></table></figure></div>

<p>给予自己一颗右键使用时可以将自己的游戏模式切换为创造模式的钻石。</p>
<p>执行命令的权限等级始终为2。</p>
<h2 id="执行多条命令"><a href="#执行多条命令" class="headerlink" title="执行多条命令"></a>执行多条命令</h2><p>例子：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">give @s diamond&#123;Interaction:&#123;Commands:[&quot;/effect give @s speed infinite 0&quot;,&quot;/effect give @s jump_boost infinite 0&quot;]&#125;&#125;</span><br></pre></td></tr></table></figure></div>

<p>给予自己一颗右键使用时可以获得无限时间的速度&amp;跳跃提升效果的钻石。</p>
<p>列表中的命令会按照索引从低到高的顺序执行。</p>
<h2 id="附加设置"><a href="#附加设置" class="headerlink" title="附加设置"></a>附加设置</h2><h3 id="挥手"><a href="#挥手" class="headerlink" title="挥手"></a>挥手</h3><p>原版的很多可使用物品在被使用时都会有一个挥手动画。而安装本模组后，你也可以通过在<code>Interaction</code>标签内添加一个<code>Wave: 1b</code>标签来让任何物品在被右键使用时产生挥手动画。</p>
<p>可以与<code>Commands</code>标签一起使用，也可以单独使用。</p>
<p>例子：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">give @s diamond&#123;Interaction:&#123;Wave: 1b,Commands:[&quot;/gamemode creative&quot;]&#125;&#125;</span><br></pre></td></tr></table></figure></div>

<p>给予自己一颗使用后会产生挥手动画并将自己的游戏模式更改为创造模式的钻石。</p>
<h3 id="减少耐久"><a href="#减少耐久" class="headerlink" title="减少耐久"></a>减少耐久</h3><p>你可以通过在<code>Interaction</code>标签内添加一个<code>Damage</code>标签来实现物品被使用时减少物品的耐久度。</p>
<p>例子：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">give @s diamond_sword&#123;Interaction:&#123;Damage: 114,Commands:[&quot;/effect give @s strength 20 2&quot;]&#125;&#125;</span><br></pre></td></tr></table></figure></div>

<p>给予自己一把钻石剑。这把钻石剑在使用时会消耗其114点耐久度，同时会给予使用者20秒的力量III效果。</p>
<p>耐久度的减少会受到耐久附魔的减免影响。</p>
<h3 id="消耗物品"><a href="#消耗物品" class="headerlink" title="消耗物品"></a>消耗物品</h3><p>你可以通过在<code>Interaction</code>标签内添加一个<code>Consume: 1b</code>标签来实现物品在被非创造模式的玩家使用时会被消耗掉。</p>
<p>例子：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">give @s diamond_sword&#123;Interaction:&#123;Consume: 1b,Commands:[&quot;/effect give @s strength 20 4&quot;]&#125;&#125;</span><br></pre></td></tr></table></figure></div>

<p>给予自己一把钻石剑。这把钻石剑在使用时会给予使用者20秒的力量V效果。若使用者的游戏模式非创造模式，则使用后钻石剑会消失。</p>
<p>对于可堆叠的物品，在使用后只会消失一个。</p>
<h1 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h1><p>GitHub：<a class="link"   href="https://github.com/TmallKing1/ClickableItems/releases" >Releases <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <tags>
        <tag>自制模组</tag>
      </tags>
  </entry>
  <entry>
    <title>Data-pack Helper Plus无法支持1.19.4新特性的临时解决方案</title>
    <url>/2023/dhpfix/</url>
    <content><![CDATA[<p>VSCode的Data-pack Helper Plus（以下简称大憨批）插件中，把命令树版本调为1.19.4却不支持1.19.4添加的新特性。这是网络问题以及相关的链接404导致的。以下为出现此问题的临时解决方案。</p>
<p>开始之前请确保你将大憨批的命令树版本调为了1.19.4。</p>
<h2 id="Step-1-查看你的存储路径"><a href="#Step-1-查看你的存储路径" class="headerlink" title="Step 1.查看你的存储路径"></a>Step 1.查看你的存储路径</h2><p>打开VSCode，点击左下角的「问题」，切换到「输出」选项卡，将滚动条滚动到顶部直到看到globalStoragePath &#x3D; ***。将***复制到剪贴板并在资源管理器打开。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/dhpfix/dhpfix1.png"
                     
                ></p>
<p>打开后的界面如图所示，如果没有1.19.4文件夹则新建一个，然后进入1.19.4文件夹。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/dhpfix/dhpfix2.png"
                     
                ></p>
<h2 id="Step-2-下载所需文件"><a href="#Step-2-下载所需文件" class="headerlink" title="Step 2.下载所需文件"></a>Step 2.下载所需文件</h2><p>由于国内无法访问raw.githubusercontent.com，所以此处需要的文件我传到了<a class="link"   href="https://xzzz.lanzoum.com/ipgYt0t7yvjg" >蓝奏云 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>上，下载压缩包然后把所有文件解压进1.19.4文件夹。解压完毕后的1.19.4文件夹如图所示：</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/dhpfix/dhpfix3.png"
                     
                ></p>
<p>需要注意的是Nbtdoc.json的原文件有一个错误：展示实体的billboard标签为一个复合标签而不是枚举（而在Minecraft里面是一个拥有四个可取值的枚举）。压缩包内的文件夹已修正了这个错误。</p>
<h2 id="Step-3-完成！"><a href="#Step-3-完成！" class="headerlink" title="Step 3.完成！"></a>Step 3.完成！</h2><p>打开VSCode，发现1.19.4的特性全部都支持啦，甚至还能支持1.20的新物品（</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/dhpfix/dhpfix4.png"
                     
                ></p>
]]></content>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>Disable the End 模组</title>
    <url>/2023/disable-the-end/</url>
    <content><![CDATA[<p>本模组提供了一些在fabric服务器上较为常用的功能，如禁用末地传送门、禁用带名生物死亡日志、禁言玩家等。</p>
<p>模组名为「Disable the End」，是因为这个模组最初仅仅是为了禁用末地传送门而写的。</p>
<h2 id="下载与安装"><a href="#下载与安装" class="headerlink" title="下载与安装"></a>下载与安装</h2><p>请在<a class="link"   href="https://github.com/TmallKing1/DisableTheEnd/releases" >Github Releases <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>下载最新版本的模组。测试过的Minecraft版本为1.20.1，无法确定是否可以运行在其它版本的Minecraft上。</p>
<p>模组仅可被装在带有Fabric loader与Fabric API专用服务端（Dedicated Server）的mods文件夹里。装在客户端侧很有可能会出现bug。</p>
<h2 id="功能介绍与配置说明"><a href="#功能介绍与配置说明" class="headerlink" title="功能介绍与配置说明"></a>功能介绍与配置说明</h2><p>第一次启动服务器时，模组会在「<code>服务端根目录/config/disabletheend</code>」处生成一个名为<code>disable_the_end.json</code>的配置文件。任何对配置文件做出的修改均可在服务端控制台或最高等级权限管理员使用命令<code>/dte reload</code>来重载。</p>
<h3 id="禁用末地传送门（默认开启）"><a href="#禁用末地传送门（默认开启）" class="headerlink" title="禁用末地传送门（默认开启）"></a>禁用末地传送门（默认开启）</h3><p>在配置文件中的<code>disable_end_portal</code>键进行配置。true为禁用末地传送门，false为不做变化。</p>
<p>当此键对应的值为true时，所有玩家无法通过末地传送门进入末路之地维度（返回传送门同理）。</p>
<h3 id="禁用带名生物死亡日志（默认开启）"><a href="#禁用带名生物死亡日志（默认开启）" class="headerlink" title="禁用带名生物死亡日志（默认开启）"></a>禁用带名生物死亡日志（默认开启）</h3><p>在配置文件中的<code>disable_named_entity_log</code>键进行配置。true为禁用，false为不做变化。</p>
<p>当此键对应的值为true时，命名过的生物死亡后不会在服务器控制台产生日志。</p>
<p>一般用于使用纯数据包实现的玩法的服务器。</p>
<h3 id="禁用服务器玩家匿名（默认关闭）"><a href="#禁用服务器玩家匿名（默认关闭）" class="headerlink" title="禁用服务器玩家匿名（默认关闭）"></a>禁用服务器玩家匿名（默认关闭）</h3><p>在配置文件中的<code>anti_anonymous</code>键进行配置。true为禁用，false为不做变化。</p>
<p>当此键对应的值为true时，玩家客户端的「允许列入服务器玩家列表」设置会被忽略，即服务器在接受到玩家列表查询请求时，总是显示所有的玩家名（包括上述设置为「关」的玩家）。</p>
<h3 id="强制玩家出生点（默认关闭）"><a href="#强制玩家出生点（默认关闭）" class="headerlink" title="强制玩家出生点（默认关闭）"></a>强制玩家出生点（默认关闭）</h3><p>有两种配置方法：在配置文件中的<code>force_spawn</code>键进行配置，或在游戏内使用命令配置。此处介绍后一种。</p>
<p>当<code>force_spawn.enabled</code>键对应的值为true时，玩家每次进入服务器时的位置总是在设定的位置上。</p>
<p>强制玩家出生点的默认位置是世界原点(0,0,0)，若需开启此功能请修改强制出生点位置。</p>
<h4 id="命令（需要权限等级2）"><a href="#命令（需要权限等级2）" class="headerlink" title="命令（需要权限等级2）"></a>命令（需要权限等级2）</h4><p><code>/forcespawn enable</code></p>
<p>启用强制玩家出生点功能。</p>
<p><code>/forcespawn disable</code></p>
<p>禁用强制玩家出生点功能。</p>
<p><code>/forcespawn setpos &lt;location: vec3&gt;</code></p>
<p>设置强制玩家出生点的位置。此命令不会改变玩家进入服务器时的视角朝向。可以使用相对坐标与局部坐标。</p>
<p><code>/forcespawn setrotation &lt;rotation: rotation&gt;</code></p>
<p>设置强制玩家出生点的朝向。可以使用相对朝向。</p>
<h3 id="记分板记分项复制"><a href="#记分板记分项复制" class="headerlink" title="记分板记分项复制"></a>记分板记分项复制</h3><h4 id="命令（需要权限等级2）-1"><a href="#命令（需要权限等级2）-1" class="headerlink" title="命令（需要权限等级2）"></a>命令（需要权限等级2）</h4><p><code>/scoreboard objectives copy &lt;from&gt; &lt;to&gt; [displayName]</code></p>
<p>将一个记分项追踪的所有分数复制到一个新的记分项，并为新的记分项指定显示名称。</p>
<p><code>&lt;from&gt;</code>：要复制分数的记分项名称。</p>
<p><code>&lt;to&gt;</code>：将要复制到的新记分项的名称，不能与已有的记分项重合。</p>
<p><code>[displayname]</code>：一个JSON文本，新记分项的显示名称。</p>
<h3 id="玩家禁言"><a href="#玩家禁言" class="headerlink" title="玩家禁言"></a>玩家禁言</h3><p>本模组可实现不会自动解除永久禁言与可自动解除的临时禁言。禁言后的玩家不能发送聊天消息且无法使用<code>/say</code>与<code>/me</code>命令。</p>
<p>禁言的玩家列表保存在「<code>服务器根目录/muted-players.json</code>」处。当有一名玩家的禁言时间已到且尝试发送聊天消息或使用上述命令时，系统会自动将该玩家从禁言列表中移除，并允许该玩家的此次操作。</p>
<h4 id="命令（需要权限等级2）-2"><a href="#命令（需要权限等级2）-2" class="headerlink" title="命令（需要权限等级2）"></a>命令（需要权限等级2）</h4><p><code>/mute &lt;player&gt; [time] [reason]</code></p>
<p>将玩家以指定的原因禁言指定的时间。原因和时间会在玩家尝试发送聊天消息或使用<code>/say</code>与<code>/me</code>命令时对发送者显示。如果未指定时间则为永久禁言。</p>
<p><code>/unmute &lt;player&gt;</code></p>
<p>取消禁言一名玩家。当且仅当该玩家的临时禁言时间未到或被永久禁言时可用。</p>
]]></content>
      <tags>
        <tag>自制模组</tag>
      </tags>
  </entry>
  <entry>
    <title>游艺街改版教程 - 添加新的小游戏</title>
    <url>/2023/ltwtutor-e1/</url>
    <content><![CDATA[<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>这是一个<strong>「由Hex-Dragon所制作的<a class="link"   href="https://www.mcbbs.net/thread-1421715-1-1.html" >《游艺街》 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>」</strong>的改版教程，作者是《游艺街 小猪之最改版服》（下简称《LTW派》）的作者小猪之最Thepig。</p>
<p>游艺街也出来一段时间了，但是改版里面目前貌似只有我这个版本还在维护……刚好新的最终轮游戏也做出来了，就先写篇教程解析一下龙猫他们写的数据包吧。本教程以《LTW派》的山丘之王游戏为例讲解。</p>
<p>注意本教程并不负责MC命令和数据包基础知识。</p>
<p>本教程的修改版数据包存放在<a class="link"   href="https://github.com/TmallKing1/LTW3-RemakeTutorial" >GitHub <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>上，包含了我制作的山丘之王小游戏的场景结构。你可以直接将《游艺街》的原版数据包替换为修改后的数据包然后删除原有的山丘之王结构来体验一下这个新的小游戏。<del>白嫖党狂喜</del></p>
<h2 id="官方的小游戏策划建议"><a href="#官方的小游戏策划建议" class="headerlink" title="官方的小游戏策划建议"></a>官方的小游戏策划建议</h2><p>以下内容来自函数文件<code>data/ltw/functions/main/player_enter.mcfunction</code>内的注释，我将其进行了一定的排版处理。</p>
<blockquote>
<p>小游戏最佳实践</p>
<ul>
<li>需要有<strong>玩家交互</strong><br>即使是间接交互也比没有好，<strong>PVP 击退</strong>可能是不错的选项，但最好不要纯 PVP 砍人</li>
<li>必须能体现玩家的<strong>技术或策略</strong><br>单纯的狂点左键或长按 W 是没有意思的，至少要给玩家发挥的空间</li>
<li>结果不能仅依靠玩家的熟练度<br>全靠玩家水平不是说不行，而是这不适合<strong>“派对游戏”</strong>，跑酷就是一个负面例子</li>
<li>规则应该尽量<strong>简单易学</strong><br>除非必要，不要增加单个游戏的规则复杂度，这会提高学习成本，让新人难以入门</li>
<li>在制作时考虑给<strong>道具</strong>留下发挥空间<br>玩家有远程攻击，有鞘翅，有金苹果，有护甲和剑，有击退棒，让它们可以得到应用</li>
</ul>
</blockquote>
<h2 id="第零步-准备工作"><a href="#第零步-准备工作" class="headerlink" title="第零步 - 准备工作"></a>第零步 - 准备工作</h2><h3 id="A-工具准备"><a href="#A-工具准备" class="headerlink" title="A. 工具准备"></a>A. 工具准备</h3><ol>
<li>在你的电脑上安装<a class="link"   href="https://code.visualstudio.com/" >Visual Studio Code <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>。</li>
<li>在VSCode里安装扩展<a class="link"   href="https://marketplace.visualstudio.com/items?itemName=SPGoding.datapack-language-server" >Data-pack Helper Plus <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>。</li>
<li>关闭VSCode，因为我们第二步才会用到它。</li>
</ol>
<h3 id="B-策划小游戏"><a href="#B-策划小游戏" class="headerlink" title="B. 策划小游戏"></a>B. 策划小游戏</h3><p>在开始制作之前肯定先要想好你的游戏玩法啦~这里给出山丘之王的规则参考：</p>
<p>比赛场地的中央平台地势较周围高，同时中央平台有一块<strong>红色区域</strong>，玩家可以通过楼梯到达中央红区。每<strong>0.25秒</strong>（在《LTW派》中是0.5秒），处在中央红区的玩家会获得1点能量值。当剩余时间小于1分钟时，获得的能量值提升为2点。每位玩家在中央区域都有一个附魔击退II的<strong>击退鱼</strong>，可用于击退其他玩家。<strong>在周围区域时</strong>，击退鱼的击退等级会变为IV级，可用于击退中央红区的玩家或阻止玩家到达中央红区。在游戏区域的四角会有<strong>奖励物资</strong>生成，玩家可以舍弃中央红区的能量值来尝试抢夺生成的奖励物资。</p>
<p>在《LTW派》中，奖励物资大多数情况是能量值，少数才会是全局物品（或积分）。教程中将仅演示生成全局物品（或积分）的奖励物资写法。</p>
<h2 id="第一步-小游戏场景的处理"><a href="#第一步-小游戏场景的处理" class="headerlink" title="第一步 - 小游戏场景的处理"></a>第一步 - 小游戏场景的处理</h2><p>游艺街各个小游戏的场景普遍比较小，并且如果你从主大厅切换旁观者模式朝外边飞，会发现游戏的场景原型都建在<strong>主大厅的外面</strong>。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/ltwtutor/ltwtutor1.png"
                     
                ></p>
<p>但是我们在真正玩游戏的时候，并没有在游戏场景周围发现其他游戏的场景或者主大厅。这是因为在每轮游戏开始时，游戏场景都会用结构方块重新加载。从数据包中可以发现，我们游玩每个小游戏的位置都在<code>x=1000</code>且<code>z=1000n</code>（<code>n</code>为正整数）附近。</p>
<p>因为小游戏中的许多场景内的方块都会在游玩时发生改变（例如地陷圣坛），所以使用结构方块保存并<strong>在每局游戏开始前</strong>调用结构方块进行加载可以很轻松地使游戏场景恢复到最初的状态。即使你确信你的游戏场景不会被轻易改变，使用结构方块保存仍然可以减少测试中出现的不可抗力因素带来的影响。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/ltwtutor/ltwtutor2.png"
                     
                ></p>
<p>你可以先在主大厅的附近建造一个场景，然后使用结构方块保存。保存的结构名称中的命名空间最好为<code>mini</code>，方便管理（例如山丘之王游戏的结构名称为<code>mini:koth</code>）。最后前往你的新游戏地点，例如<code>(1000,y,9000)</code>，然后放置结构方块并加载你的地图。</p>
<p>你也可以先在自己的世界把地图建造好并用结构方块保存，然后再前往你的存档文件夹，将<code>generated/structures/mini/xyz.nbt</code>文件复制到游艺街存档内相同的位置。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/ltwtutor/ltwtutor3.png"
                     
                ></p>
<p>需要注意的是，原版的结构方块最多只能储存<strong>48x48x48</strong>的内容。如果你的游戏场景比最大范围还大，那就需要<strong>多个结构方块</strong>来储存（例如地陷圣坛）。</p>
<h2 id="第二步-小游戏基础框架编写"><a href="#第二步-小游戏基础框架编写" class="headerlink" title="第二步 - 小游戏基础框架编写"></a>第二步 - 小游戏基础框架编写</h2><p>使用VSCode打开游艺街数据包（<code>服务端文件夹/world/datapacks/LTW3</code>）。</p>
<p>看到我们熟悉的<code>data</code>文件夹和<code>pack.mcmeta</code>文件后，展开<code>data</code>文件夹，会发现里面有7个子文件夹（命名空间）。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/ltwtutor/ltwtutor4.png"
                     
                ></p>
<p>以下为各个文件夹内文件的主要功能（可选择性阅读，我们修改的主要是mini文件夹的内容）：</p>
<ul>
<li><p>backup：备份文件夹。里面有一个压缩包文件<code>slime.zip</code>，储存的是官方废案小游戏《夺命足球》的函数文件。</p>
</li>
<li><p>item：与游戏内物品有关的文件夹，例如奖励积分、奖励物品、商店物品和游戏中锁定第九格物品栏等。存放奖励物品的战利品表也在这个文件夹里面。</p>
</li>
<li><p>lib：一些常用的函数库。例如<code>random</code>随机函数、<code>sounds</code>常用音效库等。</p>
</li>
<li><p>ltw：全局游戏相关文件夹。下面是其中<code>functions</code>文件夹中各个子文件夹和文件的介绍</p>
<ul>
<li><p><code>advancement</code>子文件夹表示玩家达成进度时执行的函数，即给予绿宝石+增加统计数据。在之后的进度编写中需要调用这些函数。</p>
</li>
<li><p><code>clock</code>子文件夹内为游戏中周期性执行的函数（tick1、tick2等），但我们要修改的并不是这里的内容。</p>
</li>
<li><p><code>main</code>子文件夹内是一些全局事件函数。</p>
</li>
<li><p><code>state</code>子文件夹里面的子文件夹表示服务器的各个状态：0表示等待中，3表示小游戏预处理，4表示展示小游戏，5表示小游戏进行中，6表示小游戏结束且选择奖励前，7表示选择奖励时。</p>
</li>
<li><p><code>init.mcfunction</code>函数可以重置服务器状态，测试时如果想重置可以输入命令<code>/function ltw:init</code>来重置服务器状态。</p>
</li>
</ul>
</li>
<li><p>minecraft：原版相关文件夹。因为游艺街服务器禁用了原版数据包，取消了原版进度和可直接通过获取物品获得合成表的功能，所以需要在minecraft命名空间内添加原版的一些内容。</p>
<ul>
<li>但是，<code>loot_tables/gameplay/fishing.json</code>似乎并不是原版的，原因你自己拿鱼竿钓一下鱼就知道了。</li>
</ul>
</li>
<li><p>mini：小游戏相关文件夹。里面存放了和各个小游戏相关的文件。我们所做的修改和添加都是围绕这个文件夹进行的。</p>
</li>
<li><p>test：测试相关文件夹。提供了测试各个小游戏和奖励物品、跳过剩余时间和将剩余时间设为「无限长」的方法。</p>
</li>
</ul>
<h3 id="A-新建文件夹！"><a href="#A-新建文件夹！" class="headerlink" title="A. 新建文件夹！"></a>A. 新建文件夹！</h3><p>俗话说的好，当你新建一个文件夹时，项目就正式开始了。</p>
<p>事不宜迟，我们立马建一个，在<code>mini/functions/</code>目录下。</p>
<blockquote>
<p>koth为King of The Hill（山丘之王）的简称。在此请为你自己的小游戏取一个<strong>相对短而好记</strong>的名称。</p>
</blockquote>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/ltwtutor/ltwtutor5.png"
                     
                ></p>
<p>在正式开始之前，先给你的小游戏取一个编号。<strong>小游戏分为三种类型</strong>：首轮小游戏、普通小游戏和终轮小游戏。</p>
<ul>
<li>首轮小游戏的编号为20*（例如核爆刺客为201）</li>
<li>普通小游戏的编号为*（例如地陷圣坛为2，月夜狩猎为5）</li>
<li>终轮小游戏的编号为10*（例如钢铁狂潮为101，贸易专家为102）</li>
</ul>
<p>如果你需要写一个普通小游戏，编号最好从6开始。当然，官方用过的编号只有1-5、101、102和201，你想定什么编号都可以。在此我将山丘之王的编号定为6。</p>
<h3 id="B-应该写什么？"><a href="#B-应该写什么？" class="headerlink" title="B. 应该写什么？"></a>B. 应该写什么？</h3><p>一个完整的小游戏应该至少包含以下函数文件：</p>
<ul>
<li><p><code>game_end.mcfunction</code>：<strong>游戏结束</strong>执行的方法。至少包含删除强制加载区块的命令。</p>
</li>
<li><p><code>game_init.mcfunction</code>：<strong>初始化</strong>。一般还要有<code>game_init2.mcfunction</code>用来清理残余实体，初始化操作复杂的游戏还要有<code>game_init3</code>、<code>game_init4</code>等等。</p>
</li>
<li><p><code>game_start.mcfunction</code>：<strong>游戏正式开始时</strong>执行的方法。</p>
</li>
<li><p><code>give_effect.mcfunction</code>：玩家进入游戏时会被给予的<strong>状态效果</strong>（夜视、抗性等等，视游戏类型不同而定）。</p>
</li>
<li><p><code>player_enter.mcfunction</code>：玩家进入游戏时，<strong>在玩家自己身上</strong>执行的方法。这里的玩家既包括游戏开始时服务器内的玩家，也包括游戏中途加入的玩家，因此需要对这两种玩家分别进行处理。</p>
</li>
<li><p><code>player_intro.mcfunction</code>：展示小游戏时，<strong>在每个玩家自己身上执行</strong>的方法。一般是将玩家传送到游戏场地、给予夜视和使用<code>tellraw</code>命令对玩家展示游戏规则三条命令。</p>
</li>
<li><p><code>tickx.mcfunction</code>：<strong>x为1、2、5或20</strong>。表示游戏过程中周期性执行的方法，例如tick1为每1游戏刻（约0.05秒）执行一次。一般的周期性命令都放在tick2中，每秒执行的命令放在tick20中。</p>
</li>
<li><p><code>watcher_limit.mcfunction</code>：<strong>限制旁观者的活动范围</strong>。如果没有这个方法，那么旁观者甚至可以在游戏时跑到主大厅去，并且会加载很多不必要的区块，影响服务器性能。</p>
<blockquote>
<p>实测直接用命令<code>/gamerule spectatorsGenerateChunks false</code>进行旁观者加载区块限制会出现bug，某些游戏结束后的区块不能正常加载。</p>
</blockquote>
</li>
</ul>
<p>这些只是必须有的文件。除此之外，<code>game</code>文件夹和一些其他的文件一般也会存在，用来封装特定游戏内的事件等。实际上，这些函数都是由<code>mini/main/</code>目录下的同名函数调用的。<strong>因此在你的文件夹添加这些函数时，确保在<code>mini/main/</code>目录下的函数内添加了调用这些函数的命令</strong>。例如：</p>
<p><code>data/mini/functions/main/game_init.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 计分板初始化</span><br><span class="line">scoreboard players reset * mini_score</span><br><span class="line">scoreboard players reset * mini_heart</span><br><span class="line">scoreboard players reset * health</span><br><span class="line"></span><br><span class="line"># 小游戏初始化</span><br><span class="line">execute if score $mini_type mem matches 1 run function mini:parkour/game_init</span><br><span class="line">execute if score $mini_type mem matches 2 run function mini:tntrun/game_init</span><br><span class="line">execute if score $mini_type mem matches 3 run function mini:hotpm/game_init</span><br><span class="line">execute if score $mini_type mem matches 4 run function mini:colormatch/game_init</span><br><span class="line">execute if score $mini_type mem matches 5 run function mini:phantom/game_init</span><br><span class="line">## 下面一行是你新添加的</span><br><span class="line">execute if score $mini_type mem matches 6 run function mini:koth/game_init</span><br><span class="line"></span><br><span class="line">execute if score $mini_type mem matches 201 run function mini:ass/game_init</span><br><span class="line">execute if score $mini_type mem matches 101 run function mini:iron/game_init</span><br><span class="line">execute if score $mini_type mem matches 102 run function mini:trade/game_init</span><br></pre></td></tr></table></figure></div>

<p>其他文件也类似，把game_init更换为对应的文件名即可。至于<code>main</code>文件夹内的这些函数是如何执行的，你无需多操心，因为龙猫他们已经把调用这些函数的方法写好了。</p>
<h3 id="C-游戏开始前的操作"><a href="#C-游戏开始前的操作" class="headerlink" title="C. 游戏开始前的操作"></a>C. 游戏开始前的操作</h3><p>首先找到你在第一步中放结构方块的地方，把它的坐标记下来。在我这里是<code>985 4 8985</code>。</p>
<p>然后在你的游戏场景附近找到一个与游戏场景大小相等或稍大的正方体，确保把你的游戏场景完全包括进去。<strong>记下正方体体对角线上的两个点的坐标</strong>，类似于你用WorldEdit等工具划范围。在我这里是<code>985 5 8985</code>和<code>1016 36 9016</code></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/ltwtutor/ltwtutor7.png"
                     
                ></p>
<p>然后编写旁观者范围限制和场景初始化命令。</p>
<p><code>data/mini/functions/koth/watcher_limit.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 观察者限制飞行范围</span><br><span class="line">## dx dy dz确定范围大小，可用确定的两点对应坐标相减获得这三个值</span><br><span class="line">execute as @a[gamemode=spectator] unless entity @s[x=986.0,y=5.0,z=8986.0,dx=30,dy=31,dz=30] run spectate</span><br><span class="line">execute as @a[gamemode=spectator] unless entity @s[x=986.0,y=5.0,z=8986.0,dx=30,dy=31,dz=30] run tp @s[team=!debugging] 1001.0 14 9001.0 -45 90</span><br></pre></td></tr></table></figure></div>

<p><code>data/mini/functions/koth/game_init.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 初始化山丘地图</span><br><span class="line">## 将游戏场景区域标记为强制加载，确保初始化操作的顺利进行</span><br><span class="line">forceload add 985 8985 1016 9016</span><br><span class="line">## 放置结构方块，用于生成游戏场景。这里的结构方块posX、posY、posZ配置应该与你在第一步中放置的结构方块一样</span><br><span class="line">setblock 985 4 8985 structure_block[mode=load]&#123;metadata: &quot;&quot;, mirror: &quot;NONE&quot;, ignoreEntities: 1b, powered: 0b, seed: 0L, rotation: &quot;NONE&quot;, posX: 0, posY: 1, posZ: 0, sizeX: 32, sizeY: 32, sizeZ: 32, mode: &quot;LOAD&quot;, integrity: 1.0f, showair: 0b, name: &quot;mini:koth&quot;&#125;</span><br><span class="line">## 在结构方块边上的一个方块处放置红石块用于激活结构方块。由于放置后红石块即被游戏场景取代，因此不需要考虑放置失败的问题</span><br><span class="line">setblock 985 5 8985 redstone_block</span><br></pre></td></tr></table></figure></div>

<p>接下来是对游戏全局的一些操作，加在上述命令的后面。</p>
<p><code>data/mini/functions/koth/game_init.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">## 设置游戏结束后排名显示中是否显示玩家所获得的小游戏内分数。这里山丘之王小游戏的排名是依照 HUD 右侧计分板显示的能量值排序的，因此游戏结束后可以对所有玩家显示分数（能量值）。若你的游戏为竞速类、死亡淘汰类或者其他不使用自定义分数排名的小游戏，请将该值设为0</span><br><span class="line">scoreboard players set $show_score mem 1</span><br><span class="line">## 重置奖励物品生成的冷却时间</span><br><span class="line">scoreboard players set $new_item_cd mem 0</span><br><span class="line">## 这是一个冒险模式小游戏，因此生存模式的值为0。如果你做的是一个生存模式小游戏，请将该值设为1，以防止系统锁定第九格物品栏。</span><br><span class="line">scoreboard players set $survival mem 0</span><br><span class="line">## 重置每0.1秒减少1的计时器，这条命令仅在你的游戏不需要使用这类计时器的情况下添加</span><br><span class="line">scoreboard players set $countdown_fast mem 0</span><br><span class="line">## 是否启用与遗迹寻宝小游戏中类似的节奏方块，如果你的场景中没有这类方块可以不写该命令</span><br><span class="line">scoreboard players set $tempo_enable mem 0</span><br></pre></td></tr></table></figure></div>

<p>如果你的游戏还有其他需要初始化的全局变量或玩家变量，一并写在<code>game_init.mcfunction</code>中。例如：</p>
<p><code>data/mini/functions/koth/game_init.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">## 重置能量值计分板</span><br><span class="line">scoreboard players reset * power_count</span><br></pre></td></tr></table></figure></div>

<p>如果你的游戏中出现了和我一样的<strong>原版游艺街没有出现过的</strong>计分项（例如<code>power_count</code>），需要在<code>init.mcfunction</code>中添加：</p>
<p><code>data/mini/functions/koth/init.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 重置计分板</span><br><span class="line">scoreboard objectives remove power_count</span><br><span class="line">scoreboard objectives add power_count dummy &quot;能量值&quot;</span><br></pre></td></tr></table></figure></div>

<p><code>data/mini/functions/main/init.mcfunction</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 初始化</span><br><span class="line">function mini:tntrun/init</span><br><span class="line">function mini:hotpm/init</span><br><span class="line">function mini:phantom/init</span><br><span class="line">## 山丘之王的初始化方法</span><br><span class="line">function mini:koth/init</span><br><span class="line"></span><br><span class="line">function mini:iron/init</span><br><span class="line">function mini:ass/init</span><br><span class="line">function mini:trade/init</span><br></pre></td></tr></table></figure></div>

<p>接下来是伤害管理：</p>
<p><code>data/mini/functions/main/game_init.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 伤害管理</span><br><span class="line">## 官方的函数中总有这一条，原本是用来控制消除金苹果/附魔金苹果/不死图腾产生的伤害吸收效果的，但是这个值设为0或1都会清除效果，所以设置这个值似乎并没有什么意义</span><br><span class="line">scoreboard players set $remove_resistance mem 0</span><br><span class="line">## 是否能够对玩家造成伤害与击退</span><br><span class="line">team modify playing friendlyFire true</span><br><span class="line">## 玩家碰撞设定</span><br><span class="line">team modify playing collisionRule always</span><br><span class="line">## 是否显示玩家的死亡信息</span><br><span class="line">team modify playing deathMessageVisibility never</span><br><span class="line">## 火焰伤害是否启用</span><br><span class="line">gamerule fireDamage false</span><br><span class="line">## 摔落伤害是否启用</span><br><span class="line">gamerule fallDamage false</span><br><span class="line">## 溺水伤害是否启用</span><br><span class="line">gamerule drowningDamage false</span><br><span class="line">## 自然生命恢复是否启用</span><br><span class="line">gamerule naturalRegeneration true</span><br></pre></td></tr></table></figure></div>

<p>接下来是剩余的初始化操作，一般是<strong>清理&#x2F;生成实体</strong>和<strong>对地图进行一定的初始化</strong>，放在上述初始化之后0.75秒进行。在山丘之王小游戏中只需要清理实体即可。</p>
<p><code>data/mini/functions/main/game_init.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">schedule function mini:koth/game_init2 15t replace</span><br></pre></td></tr></table></figure></div>

<p><code>data/mini/functions/main/game_init2.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 清理残余实体</span><br><span class="line">## 如果你的游戏中没有出现箭、物品、苦力怕和三叉戟以外的物品，直接调用mini:main中的清理实体方法即可</span><br><span class="line">function mini:main/kill_entity</span><br></pre></td></tr></table></figure></div>

<p>然后是对你的小游戏进行介绍，可以仿照官方写的介绍进行编写。「免疫击退效果在本轮无效」是无奈之举，一般的游戏需要尽量避免这种情况发生。</p>
<p><code>data/mini/functions/main/player_intro.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 向单个玩家展示小游戏介绍</span><br><span class="line">## 给予夜视效果</span><br><span class="line">effect give @s night_vision 1000000 0 true</span><br><span class="line">## 传送玩家到游戏场景</span><br><span class="line">tp @s[team=!debugging] 1001.0 14 9001.0 -45 90</span><br><span class="line">## 向玩家展示介绍</span><br><span class="line">tellraw @s [&quot;&quot;,&#123;&quot;text&quot;:&quot;\n &gt;&gt; 山丘之王 &gt;&gt;\n\n&quot;,&quot;color&quot;:&quot;gold&quot;,&quot;bold&quot;:true&#125;,&quot; 保持在红色区域即可 &quot;,&#123;&quot;text&quot;:&quot;获得能量值&quot;,&quot;color&quot;:&quot;gold&quot;&#125;,&quot;。\n 能量值最多的玩家即可获胜！\n\n&quot;,&#123;&quot;text&quot;: &quot; &lt;只能击退玩家&gt; &quot;,&quot;color&quot;:&quot;yellow&quot;&#125;,&#123;&quot;text&quot;: &quot; &lt;免疫击退效果在本轮无效&gt;&quot;,&quot;color&quot;:&quot;light_purple&quot;&#125;,&quot;\n&quot;]</span><br></pre></td></tr></table></figure></div>

<h3 id="D-游戏开始时的操作"><a href="#D-游戏开始时的操作" class="headerlink" title="D. 游戏开始时的操作"></a>D. 游戏开始时的操作</h3><p>主要包含三个方法。首先是游戏开始时对小游戏整体的修改。</p>
<p><code>data/mini/functions/main/game_start.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 游戏结束倒计时，我这里为120秒</span><br><span class="line">scoreboard players set $countdown mem 120</span><br><span class="line"></span><br><span class="line"># HUD，通常为玩家所看到的游戏相关信息</span><br><span class="line">scoreboard objectives setdisplay list power_count</span><br><span class="line">scoreboard objectives setdisplay belowName power_count</span><br><span class="line">scoreboard objectives setdisplay sidebar power_count</span><br><span class="line">## boss栏颜色，1，2，3，4分别代表红、黄、绿、蓝，0代表按照每个玩家在bossbar_color的计分项内的分数对每个玩家显示不同颜色的boss栏（例如炸弹狂魔里面获得炸弹与未获得炸弹的玩家看到的boss栏不一样）</span><br><span class="line">scoreboard players set $bossbar_color mem 4</span><br><span class="line">## boss栏倒计时的最大值</span><br><span class="line">scoreboard players set $countdown_max mem 120</span><br><span class="line">## boss栏类型，0，1，2分别代表关闭boss栏、显示快速倒计时（0.1秒减少1单位）和显示标准倒计时（1秒减少1单位）</span><br><span class="line">scoreboard players set $bossbar_type mem 2</span><br><span class="line">## 调用显示boss栏方法</span><br><span class="line">function lib:bossbar/show</span><br><span class="line">## 更改每种颜色的boss栏的名字</span><br><span class="line">bossbar set mini:red name &quot;剩余时间&quot;</span><br><span class="line">bossbar set mini:yellow name &quot;剩余时间&quot;</span><br><span class="line">bossbar set mini:blue name &quot;剩余时间&quot;</span><br></pre></td></tr></table></figure></div>

<p>接下来是每个玩家进入游戏时的方法。这里的玩家有三种：<strong>参与游戏的玩家</strong>（<code>team=playing,tag=!rejoining</code>）、<strong>未参与游戏的旁观者</strong>（<code>team=watching</code>）和<strong>中途退出而后又加入游戏的玩家</strong>（<code>team=playing,tag=rejoining</code>）。</p>
<p><code>data/mini/functions/main/player_enter.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 单个玩家开始小游戏时执行</span><br><span class="line">## 对自己播放音乐</span><br><span class="line">function lib:sounds/music/mini_middle</span><br><span class="line">## 清理标题显示区</span><br><span class="line">title @s clear</span><br><span class="line">title @s actionbar &quot;&quot;</span><br><span class="line"></span><br><span class="line"># 给予状态效果</span><br><span class="line">effect clear @s</span><br><span class="line">function mini:koth/give_effect</span><br><span class="line"></span><br><span class="line"># 设置玩家生命</span><br><span class="line">attribute @s generic.max_health base set 20</span><br><span class="line"></span><br><span class="line"># 传送玩家</span><br><span class="line">## 此处依据你设定的场景坐标而改。在我的游戏中玩家会出生在空中，因此会有以下这一条给予缓降效果的命令。传送玩家</span><br><span class="line">effect give @s[team=playing] slow_falling 3</span><br><span class="line">tp @s[team=playing] 1001.0 30.0 9001.0</span><br><span class="line"></span><br><span class="line"># 调整模式</span><br><span class="line">## 将调试者以外的玩家调整为旁观模式</span><br><span class="line">gamemode spectator @s[team=!debugging]</span><br><span class="line">## 将参与游戏而非中途重新加入的玩家调整为冒险模式</span><br><span class="line">gamemode adventure @s[team=playing,tag=!rejoining]</span><br><span class="line"></span><br><span class="line"># 解除免疫击退效果</span><br><span class="line">attribute @s[team=playing,tag=!rejoining] generic.knockback_resistance modifier add e0edf3eb-5aea-4a18-9b9e-1bde9df27ab5 &quot;&quot; -1.0 multiply</span><br></pre></td></tr></table></figure></div>

<p>解除免疫击退效果的影响是<strong>永久</strong>的，因此需要在玩家进入游戏时先<strong>取消免疫击退的限制</strong>，然后<strong>如果需要</strong>限制免疫击退才会执行上面的最后一条命令。如果你的游戏中没有这一项则不需要进行任何操作。</p>
<p><code>data/ltw/functions/main/player_enter.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 存储UUID</span><br><span class="line">execute store result score @s UUID run data get entity @s UUID[0]</span><br><span class="line"></span><br><span class="line"># 解除限制免疫击退</span><br><span class="line">## 注意是在这里添加</span><br><span class="line">attribute @s[team=playing,tag=!rejoining] generic.knockback_resistance modifier remove e0edf3eb-5aea-4a18-9b9e-1bde9df27ab5</span><br><span class="line"></span><br><span class="line"># 如果是旁观者或局号不对头：开始旁观</span><br><span class="line">execute if entity @s[team=!playing] run function ltw:main/player_enter_watcher</span><br><span class="line">execute if entity @s[team=playing] unless score @s game_id = $ game_id run function ltw:main/player_enter_watcher</span><br><span class="line"># 如果不是旁观且局号正确：游戏中掉线</span><br><span class="line">execute if entity @s[team=playing] if score @s game_id = $ game_id run function ltw:main/player_enter_rejoin</span><br></pre></td></tr></table></figure></div>

<p>最后是给予玩家状态效果：</p>
<p><code>data/mini/functions/koth/give_effect.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 状态效果</span><br><span class="line">## 饱和</span><br><span class="line">effect give @s saturation 1000000 0 true</span><br><span class="line">## 夜视</span><br><span class="line">effect give @s night_vision 1000000 0 true</span><br><span class="line">## 抗性</span><br><span class="line">effect give @s resistance 1000000 4 true</span><br><span class="line">## 如果还有其它状态效果，加在下面即可</span><br></pre></td></tr></table></figure></div>

<h3 id="E-游戏结束时的操作"><a href="#E-游戏结束时的操作" class="headerlink" title="E. 游戏结束时的操作"></a>E. 游戏结束时的操作</h3><p>结束时的操作相对简单，只有一个<code>game_end.mcfunction</code>函数。</p>
<p><code>data/mini/functions/koth/game_end.mcfunction</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 当前游戏结束时触发</span><br><span class="line">## 取消在game_init.mcfunction定义的强制加载区域</span><br><span class="line">forceload remove 985 8985 1016 9016</span><br><span class="line"></span><br><span class="line"># 计算积分</span><br><span class="line">## 游艺街默认使用玩家淘汰的顺序来决定最终的排名，即每有一人淘汰时给剩余还在场上的玩家的mini_score分数加1。如果想要使用自定义的分数进行排名，直接把玩家对应的分数赋值给mini_score即可</span><br><span class="line">## 如果你在game_init.mcfunction设置了$show_score为1，在游戏结束后玩家的mini_score值会在排名列表里显示出来</span><br><span class="line">scoreboard players set @a[team=playing] mini_score 0</span><br><span class="line">execute as @a[team=playing] run scoreboard players operation @s mini_score += @s power_count</span><br><span class="line"></span><br><span class="line"># 解除限制免疫击退</span><br><span class="line">## 和之前一样，需要解除玩家的免疫击退限制，让玩家可以在其他游戏中正常使用免疫击退的道具（最好还是加上这句）</span><br><span class="line">execute as @a run attribute @s generic.knockback_resistance modifier remove e0edf3eb-5aea-4a18-9b9e-1bde9df27ab5</span><br></pre></td></tr></table></figure></div>

<h2 id="第三步-小游戏事件编写"><a href="#第三步-小游戏事件编写" class="headerlink" title="第三步 - 小游戏事件编写"></a>第三步 - 小游戏事件编写</h2><p>一个小游戏只有基础框架是没有任何实际内容的，<strong>甚至连游戏都无法正常结束</strong>。因此需要为每个小游戏编写自己的事件，这些事件一般会在<code>tick2.mcfunction</code>（每0.1秒执行）、<code>tick20.mcfunction</code>（每秒执行）等周期性执行的函数中触发。本教程只提供山丘之王小游戏的事件编写，但其中的某些内容（例如<strong>倒计时检测、奖励物品生成</strong>）也可用于其它小游戏。</p>
<h3 id="A-剩余10s时的倒计时显示"><a href="#A-剩余10s时的倒计时显示" class="headerlink" title="A. 剩余10s时的倒计时显示"></a>A. 剩余10s时的倒计时显示</h3><p>众所周知，大部分规定了剩余时间的游戏都会在剩余时间≤10秒时在subtitle副标题处显示倒计时。这个倒计时的写法直接照搬现成的即可。</p>
<p><code>data/mini/functions/koth/tick20.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 显示倒计时</span><br><span class="line">execute if score $countdown mem matches ..10 run title @a times 3 14 2</span><br><span class="line">execute if score $countdown mem matches ..10 run title @a subtitle &#123;&quot;score&quot;:&#123;&quot;name&quot;:&quot;$countdown&quot;,&quot;objective&quot;:&quot;mem&quot;&#125;&#125;</span><br><span class="line">execute if score $countdown mem matches ..10 run title @a title [&quot;&quot;]</span><br><span class="line">execute if score $countdown mem matches ..10 as @a at @s run function lib:sounds/hit2</span><br></pre></td></tr></table></figure></div>

<p>注意你<strong>不需要</strong>在tick20里面写倒计时减少的命令，因为龙猫已经在<code>data/ltw/functions/clock/tick20.mcfunction</code>里面给你写好了。</p>
<h3 id="B-倒计时事件"><a href="#B-倒计时事件" class="headerlink" title="B. 倒计时事件"></a>B. 倒计时事件</h3><p>山丘之王的倒计时事件有<strong>以下三个</strong>：</p>
<ol>
<li>剩余90秒时提示玩家30秒后开启双倍能量值。</li>
<li>剩余60秒时中央红区给予的能量值翻倍，变为2点。</li>
<li>剩余0秒时游戏结束。</li>
</ol>
<p>于是我们在<code>tick20.mcfunction</code>里加上各个事件的代码，加在倒计时显示的后面。</p>
<p><code>data/mini/functions/koth/tick20.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 90s：双倍提示</span><br><span class="line">execute if score $countdown mem matches 90 run title @a subtitle &#123;&quot;text&quot;:&quot;⚠ 双倍能量将在三十秒后开启！ ⚠&quot;,&quot;color&quot;:&quot;yellow&quot;&#125;</span><br><span class="line">execute if score $countdown mem matches 90 run title @a times 1 90 3</span><br><span class="line">execute if score $countdown mem matches 90 run title @a title &quot;&quot;</span><br><span class="line">## 更改bossbar颜色为黄色，下同</span><br><span class="line">execute if score $countdown mem matches 90 run scoreboard players set $bossbar_color mem 2</span><br><span class="line">## bossbar颜色更改需要重新调用show方法，下同</span><br><span class="line">execute if score $countdown mem matches 90 run function lib:bossbar/show</span><br><span class="line"></span><br><span class="line"># 60s：双倍开启</span><br><span class="line">## 这里不直接调整能量值的给予量，给予1点还是2点能量值会在tick5里面判定</span><br><span class="line">## 更改BGM</span><br><span class="line">execute if score $countdown mem matches 61 as @a run function lib:sounds/music/mini_fast</span><br><span class="line">execute if score $countdown mem matches 60 run title @a subtitle &#123;&quot;text&quot;:&quot;⚠ 双倍能量已开启！ ⚠&quot;,&quot;color&quot;:&quot;red&quot;&#125;</span><br><span class="line">execute if score $countdown mem matches 60 run title @a times 1 120 3</span><br><span class="line">execute if score $countdown mem matches 60 run title @a title &quot;&quot;</span><br><span class="line">execute if score $countdown mem matches 60 run scoreboard players set $bossbar_color mem 1</span><br><span class="line">execute if score $countdown mem matches 60 run function lib:bossbar/show</span><br><span class="line">## 播放音效</span><br><span class="line">execute if score $countdown mem matches 60 run playsound minecraft:entity.ender_dragon.growl player @a 0 900000 0 900000 1.5</span><br><span class="line"></span><br><span class="line"># 0s：游戏结束</span><br><span class="line">execute if score $countdown mem matches 0 run function mini:main/game_end</span><br></pre></td></tr></table></figure></div>

<p>如果你的游戏还有别的倒计时事件，需要<strong>一并在该函数里加上</strong>。</p>
<h3 id="C-能量值的给予"><a href="#C-能量值的给予" class="headerlink" title="C. 能量值的给予"></a>C. 能量值的给予</h3><p>每0.25秒给予游戏内的玩家1点（双倍能量时为2点）能量值。</p>
<p><code>data/mini/functions/koth/tick5.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 给予红区玩家能量值</span><br><span class="line">execute if score $countdown mem matches 61.. as @a[team=playing,tag=mini_running] at @s if block ~ 9 ~ red_mushroom_block run scoreboard players add @s power_count 1</span><br><span class="line">execute if score $countdown mem matches ..60 as @a[team=playing,tag=mini_running] at @s if block ~ 9 ~ red_mushroom_block run scoreboard players add @s power_count 2</span><br></pre></td></tr></table></figure></div>

<p>注意这里用了相对坐标与绝对坐标结合的写法，原因是我的中央红区方块全部是在<code>y=9</code>的位置，且中央红区方块为红色蘑菇块。</p>
<p>游戏中的玩家分为<code>team=playing,tag=!mini_running</code>和<code>team=playing,tag=mini_running</code>两种。前者表示<strong>已经淘汰或结束游戏的</strong>玩家（一般为旁观者模式），后者表示<strong>正在游玩的</strong>玩家。这里如果不对玩家进行限定会出现旁观者获得能量值的情况。</p>
<h3 id="D-游戏物品的给予"><a href="#D-游戏物品的给予" class="headerlink" title="D. 游戏物品的给予"></a>D. 游戏物品的给予</h3><p>游戏内需要用到的物品一般不会多于1个，且均放在快捷栏第9格。这是一个需要<strong>高频触发</strong>的事件，因为需要时刻检测玩家的快捷栏第9格是否是<strong>对应的物品</strong>（击退鱼），以及击退等级是否符合要求等等。</p>
<p>除此之外，如果玩家快捷栏第9格放入了<strong>其他的物品</strong>，我们还需要将该物品<strong>返还</strong>给玩家。幸运的是，这个复杂的返还方法龙猫已经帮我们写好了，但我们仍然需要<strong>调用这个方法</strong>来实现物品返还。</p>
<p>由于它比较复杂，我们通常把游戏物品的给予放在<code>tick2.mcfunction</code>里面，且用一个专门的函数处理该事件。</p>
<p><code>data/mini/functions/koth/tick2.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 给予击退鱼</span><br><span class="line">execute as @a[tag=mini_running] at @s if block ~ 9 ~ red_mushroom_block unless data entity @s Inventory[&#123;Slot:8b,id:&quot;minecraft:cod&quot;,tag:&#123;game_item:1b,powerful:0b&#125;&#125;] run function mini:koth/game/give_fish</span><br><span class="line">execute as @a[tag=mini_running] at @s unless block ~ 9 ~ red_mushroom_block unless data entity @s Inventory[&#123;Slot:8b,id:&quot;minecraft:cod&quot;,tag:&#123;game_item:1b,powerful:1b&#125;&#125;] run function mini:koth/game/give_fish</span><br></pre></td></tr></table></figure></div>

<p>在这里，我们使用了<code>powerful</code>这个<strong>自定义标签</strong>来区分击退鱼等级是否正确。当然你也可以直接用<code>tag:&#123;game_item:1b,Enchantments:[&#123;id:&quot;minecraft:knockback&quot;,lvl:4&#125;]&#125;</code>来区分不同等级的击退鱼，但这样相对耗性能并且不利于平衡调整（你需要把<code>give_fish</code>里面的鱼和<code>tick2</code>里面的鱼都改一下）。</p>
<p>游戏物品拥有一个<code>game_item:1b</code>的NBT标签，但由于鳕鱼这个物品<strong>不在LTW设定的游戏物品列表里</strong>，因此我们需要在游戏物品列表中把它加上，来保证游戏物品<strong>在游戏结束之后能够正常被清除</strong>。</p>
<p><code>data/mini/tags/game_item.json</code>：</p>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;values&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;......（省略前面的游戏物品列表）&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;minecraft:soul_soil&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;minecraft:tnt&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;minecraft:cod&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>

<p>接下来就是给予击退鱼的方法了。</p>
<p><code>data/mini/functions/koth/game/give_fish.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 清除玩家已有的击退鱼</span><br><span class="line">clear @s cod&#123;game_item: 1b&#125;</span><br><span class="line"></span><br><span class="line"># 返还格子上的物品</span><br><span class="line">## 此处设定需要返还的物品栏位，快捷栏第九格为8</span><br><span class="line">execute if data entity @s Inventory[&#123;Slot: 8b&#125;] run scoreboard players set @s item_slot 8</span><br><span class="line">## 此处调用返还物品方法，没有物品时不会返还任何东西</span><br><span class="line">execute if data entity @s Inventory[&#123;Slot: 8b&#125;] at @s run function item:pop_slot/return_item</span><br><span class="line"></span><br><span class="line"># 依据玩家位置给予击退鱼</span><br><span class="line">execute if block ~ 9 ~ red_mushroom_block run item replace entity @s hotbar.8 with cod&#123;game_item: 1b, powerful: 0b, display: &#123;Name: &#x27;&#123;&quot;text&quot;:&quot;击退鱼&quot;,&quot;color&quot;:&quot;aqua&quot;,&quot;italic&quot;:false&#125;&#x27;&#125;, Enchantments: [&#123;id: &quot;knockback&quot;, lvl: 2&#125;], AttributeModifiers: [&#123;UUID: [I; 2, 0, 2, 1], Amount: 15, AttributeName: &quot;generic.attack_damage&quot;, Name: &quot;attack&quot;, Slot: &quot;mainhand&quot;, Operation: 0&#125;], HideFlags: 63&#125;</span><br><span class="line">execute unless block ~ 9 ~ red_mushroom_block run item replace entity @s hotbar.8 with cod&#123;game_item: 1b, powerful: 1b, display: &#123;Name: &#x27;&#123;&quot;text&quot;:&quot;强力击退鱼&quot;,&quot;color&quot;:&quot;light_purple&quot;,&quot;italic&quot;:false&#125;&#x27;&#125;, Enchantments: [&#123;id: &quot;knockback&quot;, lvl: 4&#125;], AttributeModifiers: [&#123;UUID: [I; 2, 0, 2, 1], Amount: 15, AttributeName: &quot;generic.attack_damage&quot;, Name: &quot;attack&quot;, Slot: &quot;mainhand&quot;, Operation: 0&#125;], HideFlags: 63&#125;</span><br></pre></td></tr></table></figure></div>

<p>由于盾牌在防击退方面表现十分出色，<del>因此我们需要让击退鱼有一定的破盾功效（暴力破盾）</del>。你可以删掉击退鱼的<code>AttributeModifiers</code>标签。</p>
<p>其他物品的给予方法和这里的击退鱼类似，只需要替换你需要用到的游戏物品即可。</p>
<h3 id="E-奖励物品的生成与处理"><a href="#E-奖励物品的生成与处理" class="headerlink" title="E. 奖励物品的生成与处理"></a>E. 奖励物品的生成与处理</h3><p>在LTW中，生成奖励物品需要一定的条件。例如在色彩迷阵中，需要<strong>当前场上没有物品</strong>才会开始计算生成物品的冷却。冷却到15秒后需要<strong>存活玩家数大于等于3</strong>且<strong>死亡玩家数小于等于2</strong>才生成新的奖励物品。但山丘之王中由于玩家不会死亡，所以只需要判定<strong>当前场上没有物品</strong>，然后计算冷却即可。</p>
<p>是否符合奖励物品的生成条件<strong>每秒判断一次</strong>。注意这里是在不符合条件时将<code>#new_item</code>设置为1，而不是在符合条件时设置为0。</p>
<p><code>data/mini/functions/koth/tick20.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 判断是否符合刷出新物品的条件：0 为可以，其他为不可以</span><br><span class="line">scoreboard players set #new_item mem 0</span><br><span class="line"></span><br><span class="line"># 当前场地上没有物品</span><br><span class="line">execute if entity @e[tag=bonus_item,x=985.0,y=4.0,z=8985.0,dx=32,dy=32,dz=32] run scoreboard players set #new_item mem 1</span><br><span class="line"></span><br><span class="line"># 如果没有物品，则计算冷却</span><br><span class="line">execute if score #new_item mem matches 0 run scoreboard players add $new_item_cd mem 1</span><br><span class="line"># 已经超过 15s 冷却时间</span><br><span class="line">execute if score $new_item_cd mem matches ..14 run scoreboard players set #new_item mem 1</span><br><span class="line"></span><br><span class="line"># 如果上述条件均满足，则刷出新物品</span><br><span class="line">execute if score #new_item mem matches 0 run function mini:koth/game/new_item</span><br></pre></td></tr></table></figure></div>

<p>奖励物品的生成方法如下。由于山丘之王有四个物品生成点，每次生成只有2个生成点有物品，因此需要<strong>随机选择</strong>。生成奖励物品的方法比较常用，因此可以直接调用现成的，只需要更改物品生成的位置即可。</p>
<p><code>data/mini/functions/koth/game/new_item.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 重置冷却时间</span><br><span class="line">scoreboard players set $new_item_cd mem 0</span><br><span class="line"></span><br><span class="line"># 随机选择生成组</span><br><span class="line">scoreboard players set $random_min mem 0</span><br><span class="line">scoreboard players set $random_max mem 1</span><br><span class="line">function lib:random</span><br><span class="line"></span><br><span class="line"># 生成物资</span><br><span class="line">execute if score $random mem matches 0 positioned 1014.5 16 8987.5 run function item:bonus_item/gameparty/auto/low</span><br><span class="line">execute if score $random mem matches 0 positioned 987.5 16 9014.5 run function item:bonus_item/gameparty/auto/low</span><br><span class="line">execute if score $random mem matches 1 positioned 1014.5 16 9014.5 run function item:bonus_item/gameparty/auto/low</span><br><span class="line">execute if score $random mem matches 1 positioned 987.5 16 8987.5 run function item:bonus_item/gameparty/auto/low</span><br><span class="line">execute as @e[tag=bonus_item] run data modify entity @s NoGravity set value 0b</span><br><span class="line"></span><br><span class="line"># 显示提示</span><br><span class="line">title @a subtitle &#123;&quot;text&quot;:&quot;❇ 奖励物资已在空中部署 ❇&quot;,&quot;color&quot;:&quot;aqua&quot;&#125;</span><br><span class="line">title @a times 1 60 3</span><br><span class="line">title @a title &quot;&quot;</span><br><span class="line">tellraw @a [&quot;&quot;,&#123;&quot;text&quot;: &quot;&gt;&gt; &quot;,&quot;color&quot;:&quot;aqua&quot;,&quot;bold&quot;: true&#125;,&#123;&quot;text&quot;:&quot;奖励物资：&quot;,&quot;color&quot;:&quot;aqua&quot;&#125;,&#123;&quot;selector&quot;: &quot;@e[tag=bonus_item]&quot;&#125;]</span><br><span class="line">playsound minecraft:entity.player.levelup player @a 0 1000000 0 1000000 2</span><br></pre></td></tr></table></figure></div>

<p>山丘之王的物品是在y&#x3D;16生成的，我们需要让物品<strong>缓慢下落到某个位置停下来</strong>，但又不是完全不下落。由于物品会受到空气阻力，所以当物品不受重力时<strong>下落速度会逐渐减小</strong>。所以我们可以判定<strong>物品的下落速度和物品的y坐标</strong>来确定物品是否要受到重力影响以下落。这需要<strong>非常高频的判定</strong>，因此命令需要写在<code>tick1</code>里面。</p>
<p><code>data/mini/functions/koth/tick1.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 调整物品：仅在纵向速度 &lt; -0.015 且 y &gt; 12 时，才将 NoGravity 设置为 false</span><br><span class="line">execute as @e[tag=bonus_item] store result score @s temp run data get entity @s Motion[1] 1000</span><br><span class="line">execute as @e[tag=bonus_item] if entity @s[x=985.0,y=12.0,z=8985.0,dx=32,dy=32,dz=32,scores=&#123;temp=-15..&#125;] run data merge entity @s &#123;NoGravity: 0b&#125;</span><br><span class="line">execute as @e[tag=bonus_item] unless entity @s[x=985.0,y=12.0,z=8985.0,dx=32,dy=32,dz=32,scores=&#123;temp=-15..&#125;] run data merge entity @s &#123;NoGravity: 1b&#125;</span><br></pre></td></tr></table></figure></div>

<p>至于y大于几时才让物品受到重力影响，可以采用<code>地面坐标y值+3</code>的方法来确定这个y值（例如山丘之王奖励物品对应的地面坐标y值为9）。这样物品停止时会悬浮在地面上1-2个方块左右的位置。</p>
<h2 id="第四步-初步测试"><a href="#第四步-初步测试" class="headerlink" title="第四步 - 初步测试"></a>第四步 - 初步测试</h2><p>在确保你的<code>data/mini/functions/koth</code>下的<strong>模板函数</strong>（即你在第二步编写的函数以及<code>tick1</code>、<code>tick2</code>、<code>tick5</code>还有<code>tick20</code>）均在<code>data/mini/functions/main</code>中的同名函数有<strong>对应的调用方法</strong>后（参照第二步B），就可以开始初步测试你的新游戏了。</p>
<p>首先让我们复制粘贴一个测试方法，记得把<code>$mini_type</code>的值改为你的游戏编号。</p>
<p><code>data/test/functions/mini/koth.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 测试用：快速开始山丘之王</span><br><span class="line">team join playing @a[team=watching]</span><br><span class="line">clear @a[team=!debugging]</span><br><span class="line">function ltw:state/0/start_game</span><br><span class="line">scoreboard players set $round mem 5</span><br><span class="line">scoreboard players set $mini_type mem 6</span><br><span class="line">function mini:main/game_init</span><br><span class="line">function ltw:state/4/state_enter</span><br><span class="line">say 已开始单个测试游戏！</span><br><span class="line"></span><br><span class="line">schedule function test:countdown/quick 20t</span><br></pre></td></tr></table></figure></div>

<p>先别急着在服务器里输入<code>/reload</code>命令！因为游艺街内置一个<strong>游戏结束判定</strong>，即人数等于1时游戏会自动结束（遗迹寻宝除外）。因此如果你是在一个人测试这个新游戏，那么游戏就会<strong>在开始之后的一瞬间结束</strong>！为了防止这种现象的发生，我们需要更改游戏结束的判定代码。在原有的<code>run</code>前面加上一句<code>unless score $mini_type mem matches 6</code>，这样你的游戏就不会自动结束了。</p>
<p><code>data/mini/functions/main/check_game_end.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 检查游戏是否可以结束</span><br><span class="line"></span><br><span class="line">function mini:main/update_player_count</span><br><span class="line">execute if score $state mem matches 5 if score $player_alive mem matches ..1 unless score $mini_type mem matches 1 unless score $mini_type mem matches 6 run function mini:main/game_end</span><br></pre></td></tr></table></figure></div>

<p>好了，现在可以<code>/reload</code>了。重载数据包之后，记得再输入<code>/function ltw:init</code>命令，确保你的能量值记分板添加成功。<del>（我就是因为经常忘记<code>init</code>导致写的东西老出bug）</del></p>
<p>输入<code>/function test:mini/koth</code>来开始测试你的游戏。下面给一张测试时的初始化图。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/ltwtutor/ltwtutor8.png"
                     
                ></p>
<p>经测试<strong>游戏运行逻辑正确、奖励物品可以正常生成并且游戏可以正常结束</strong>后，初步测试就完成了。</p>
<h2 id="第五步-将新游戏加入随机池"><a href="#第五步-将新游戏加入随机池" class="headerlink" title="第五步 - 将新游戏加入随机池"></a>第五步 - 将新游戏加入随机池</h2><p>你写的新游戏目前还不能被随机到。但好在我们写的是一个普通小游戏，只需要更改一个数字即可实现将小游戏加入随机池。</p>
<p><code>data/ltw/functions/init.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 常量与变量初始化</span><br><span class="line">## 把这里的5改成6</span><br><span class="line">scoreboard players set #mini_total mem 6</span><br><span class="line">scoreboard players set #-1 mem -1</span><br><span class="line">scoreboard players set #0 mem 0</span><br><span class="line">scoreboard players set #1 mem 1</span><br><span class="line">scoreboard players set #2 mem 2</span><br></pre></td></tr></table></figure></div>

<p>然后输入<code>/function ltw:init</code>即可。现在当游戏正常开始时，你的游戏也有概率被轮换到了。注意如果你还要添加第7个、第8个普通小游戏，那么在初步测试之后也要更改这里的<code>#mini_total</code>值。</p>
<p>如果你做的不是一个普通小游戏，而是首轮&#x2F;终轮小游戏，那么你需要更改的函数<strong>不是上面这个</strong>，是状态3（小游戏预处理）的状态进入函数。下面是你需要改的原本的代码。</p>
<p><code>data/ltw/functions/state/3/state_enter.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 前置/后置小游戏</span><br><span class="line"># 如果为第 1 轮，则有一半概率选用刺客，一半概率不变</span><br><span class="line"># 如果为第 5 轮，则有一半概率选用钢铁，一半概率选用贸易</span><br><span class="line">scoreboard players set $random_max mem 1</span><br><span class="line">scoreboard players set $random_min mem 0</span><br><span class="line">function lib:random</span><br><span class="line">execute if score $round mem matches 1 if score $random mem matches 0 run scoreboard players set $mini_type mem 201</span><br><span class="line">execute if score $round mem matches 5 if score $random mem matches 0 run scoreboard players set $mini_type mem 101</span><br><span class="line">execute if score $round mem matches 5 if score $random mem matches 1 run scoreboard players set $mini_type mem 102</span><br></pre></td></tr></table></figure></div>

<p>在我的《LTW派》中，是这么改的。（游戏编号202为掘一死箭，103为钻石风暴，104为富翁之路）</p>
<p><code>data/ltw/functions/state/3/state_enter.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 前置/后置小游戏</span><br><span class="line"># 如果为第 1 轮，则有 40% 概率选用刺客，40% 概率选用掘战，20% 概率不变</span><br><span class="line"># 如果为第 6 轮，则有 20% 概率选用钢铁，20% 概率选用钻石，20% 概率选用贸易，40% 概率选用富翁之路</span><br><span class="line">scoreboard players set $random_max mem 5</span><br><span class="line">scoreboard players set $random_min mem 1</span><br><span class="line">function lib:random</span><br><span class="line">execute if score $round mem matches 1 if score $random mem matches 1..2 run scoreboard players set $mini_type mem 201</span><br><span class="line">execute if score $round mem matches 1 if score $random mem matches 2..3 run scoreboard players set $mini_type mem 202</span><br><span class="line">execute if score $round mem matches 6 if score $random mem matches 1 run scoreboard players set $mini_type mem 101</span><br><span class="line">execute if score $round mem matches 6 if score $random mem matches 2 run scoreboard players set $mini_type mem 102</span><br><span class="line">execute if score $round mem matches 6 if score $random mem matches 3 run scoreboard players set $mini_type mem 103</span><br><span class="line">execute if score $round mem matches 6 if score $random mem matches 4..5 run scoreboard players set $mini_type mem 104</span><br></pre></td></tr></table></figure></div>

<p>由此可见，只需要更改<code>$random</code>的最大值，并且按照概率计算<code>$random</code>取何值时应该将<code>$mini_type</code>设置为你的新游戏即可。</p>
<h2 id="第六步-添加进度"><a href="#第六步-添加进度" class="headerlink" title="第六步 - 添加进度"></a>第六步 - 添加进度</h2><p>进度系统允许玩家在达成一定的条件后获得绿宝石奖励。需要注意的是，进度一般要在你的游戏经过多人确认<strong>几乎没有影响游戏平衡的bug</strong>后才添加。</p>
<p>《游艺街》的所有可见进度均存放在<code>data/ltw/advancements/</code>文件夹中。分为<code>blood</code>（金铁交鸣）、<code>parkour</code>（飞檐走壁）、<code>story</code>（荣誉之路）和<code>vs</code>（百般绝学）四个子文件夹。你可以<strong>根据你的游戏主要玩法</strong>来选择进度需要存放的文件夹位置。山丘之王的进度将会存放在<code>vs</code>子文件夹中。</p>
<p>大部分的游戏包含α、β、γ和Ω四个进度，α进度给予1个绿宝石，β、γ进度分别给予2个绿宝石，Ω进度为隐藏进度，在有的游戏中不存在。我们只需要编写各个进度的描述以及达成条件即可，给予绿宝石的方法龙猫已经帮我们写好了。</p>
<blockquote>
<p> 这里的进度达成条件与《LTW派》中的不同，原因是《LTW派》中的山丘之王有给予能量值的奖励物品，以及中央红区的能量值增长速度较教程中慢一倍。</p>
</blockquote>
<p>如果你想copy and paste，你需要更改的进度的名称（koth改为你的小游戏英文代号），<code>parent</code>也需要一并更改。此外你通常需要更改<code>display</code>里面的<code>icon</code>、<code>title</code>、<code>description</code>三个键的值。达成进度的条件均写<code>impossible</code>，我们会在函数文件中写给予进度的代码。</p>
<p><code>data/ltw/advancements/vs/koth1.json</code>：</p>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;parent&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ltw:vs/root&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;display&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;icon&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;item&quot;</span><span class="punctuation">:</span> <span class="string">&quot;minecraft:cod&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;山丘之霸 · α &quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;【山丘之王】获得 100 能量值\n&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;color&quot;</span><span class="punctuation">:</span><span class="string">&quot;gray&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;奖励: &quot;</span><span class="punctuation">,</span><span class="attr">&quot;color&quot;</span><span class="punctuation">:</span><span class="string">&quot;green&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1 绿宝石&quot;</span><span class="punctuation">,</span><span class="attr">&quot;color&quot;</span><span class="punctuation">:</span><span class="string">&quot;white&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;frame&quot;</span><span class="punctuation">:</span> <span class="string">&quot;task&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;show_toast&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;announce_to_chat&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;hidden&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rewards&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;function&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ltw:advancement/bonus_1&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;criteria&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;a&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;trigger&quot;</span><span class="punctuation">:</span> <span class="string">&quot;minecraft:impossible&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>

<p><code>data/ltw/advancements/vs/koth2.json</code>：</p>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;parent&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ltw:vs/koth1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;display&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;icon&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;item&quot;</span><span class="punctuation">:</span> <span class="string">&quot;minecraft:salmon&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;山丘之霸 · β &quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;【山丘之王】获得 180 能量值\n&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;color&quot;</span><span class="punctuation">:</span><span class="string">&quot;gray&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;奖励: &quot;</span><span class="punctuation">,</span><span class="attr">&quot;color&quot;</span><span class="punctuation">:</span><span class="string">&quot;green&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2 绿宝石&quot;</span><span class="punctuation">,</span><span class="attr">&quot;color&quot;</span><span class="punctuation">:</span><span class="string">&quot;white&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;frame&quot;</span><span class="punctuation">:</span> <span class="string">&quot;task&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;show_toast&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;announce_to_chat&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;hidden&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rewards&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;function&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ltw:advancement/bonus_2&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;criteria&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;a&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;trigger&quot;</span><span class="punctuation">:</span> <span class="string">&quot;minecraft:impossible&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>

<p><code>data/ltw/advancements/vs/koth3.json</code>：</p>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;parent&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ltw:vs/koth2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;display&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;icon&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;item&quot;</span><span class="punctuation">:</span> <span class="string">&quot;minecraft:tropical_fish&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;山丘之霸 · γ &quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;【山丘之王】获得 250 能量值\n&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;color&quot;</span><span class="punctuation">:</span><span class="string">&quot;gray&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;奖励: &quot;</span><span class="punctuation">,</span><span class="attr">&quot;color&quot;</span><span class="punctuation">:</span><span class="string">&quot;green&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2 绿宝石&quot;</span><span class="punctuation">,</span><span class="attr">&quot;color&quot;</span><span class="punctuation">:</span><span class="string">&quot;white&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;frame&quot;</span><span class="punctuation">:</span> <span class="string">&quot;challenge&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;show_toast&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;announce_to_chat&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;hidden&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rewards&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;function&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ltw:advancement/bonus_3&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;criteria&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;a&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;trigger&quot;</span><span class="punctuation">:</span> <span class="string">&quot;minecraft:impossible&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>

<p><code>data/ltw/advancements/vs/koth4.json</code>：</p>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;parent&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ltw:vs/koth3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;display&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;icon&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;item&quot;</span><span class="punctuation">:</span> <span class="string">&quot;minecraft:pufferfish&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;nbt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;Enchantments:[&#123;id:\&quot;minecraft:protection\&quot;,lvl:4s&#125;]&#125;&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;山丘之霸 · Ω &quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;【山丘之王】获得 320 能量值\n&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;color&quot;</span><span class="punctuation">:</span><span class="string">&quot;gray&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;究极隐藏挑战！&quot;</span><span class="punctuation">,</span><span class="attr">&quot;color&quot;</span><span class="punctuation">:</span><span class="string">&quot;dark_gray&quot;</span><span class="punctuation">,</span><span class="attr">&quot;italic&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;frame&quot;</span><span class="punctuation">:</span> <span class="string">&quot;challenge&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;show_toast&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;announce_to_chat&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;hidden&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rewards&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;function&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ltw:advancement/bonus_4&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;criteria&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;a&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;trigger&quot;</span><span class="punctuation">:</span> <span class="string">&quot;minecraft:impossible&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>

<p>接下来在每次给予玩家能量值时，判定玩家的能量值是否符合获得进度的条件。你无需担心当玩家已经获得了进度后还会获得重复的进度。</p>
<p><code>data/mini/functions/koth/tick5.mcfunction</code>：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 给予红区玩家能量值</span><br><span class="line">## 此处代码省略</span><br><span class="line"></span><br><span class="line"># 给予进度</span><br><span class="line">advancement grant @a[team=playing,scores=&#123;power_count=100..&#125;] only ltw:vs/koth1</span><br><span class="line">advancement grant @a[team=playing,scores=&#123;power_count=180..&#125;] only ltw:vs/koth2</span><br><span class="line">advancement grant @a[team=playing,scores=&#123;power_count=250..&#125;] only ltw:vs/koth3</span><br><span class="line">advancement grant @a[team=playing,scores=&#123;power_count=320..&#125;] only ltw:vs/koth4</span><br></pre></td></tr></table></figure></div>

<h2 id="第七步-大功告成！"><a href="#第七步-大功告成！" class="headerlink" title="第七步 - 大功告成！"></a>第七步 - 大功告成！</h2><p>输入<code>/reload</code>命令，你的小游戏就大功告成了！并且进度也确实在正常地工作。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/ltwtutor/ltwtutor9.png"
                     
                ></p>
<p>教程结束，期待更多的《游艺街》改版会因此产生！</p>
]]></content>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>Scoreboard Helper 模组</title>
    <url>/2023/scoreboard-helper/</url>
    <content><![CDATA[<p>Scoreboard Helper是一个提供Minecraft记分板的额外功能的客户端侧模组。</p>
<p>你可以在<a class="link"   href="https://modrinth.com/mod/scoreboard-helper" >Modrinth <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>或<a class="link"   href="https://github.com/TmallKing1/ScoreboardHelper/releases" >Github Releases <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>下载该模组。在<a class="link"   href="https://github.com/TmallKing1/ScoreboardHelper/issues" >Github Issues <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>反馈漏洞与建议。</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>你可以通过<a class="link"   href="https://modrinth.com/mod/modmenu" >模组菜单 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>或者手动绑定一个快捷键来打开配置屏幕。</p>
<p>配置文件保存在<code>.minecraft/versions/*你的版本名称*/config/scoreboard-helper.json</code>。</p>
<h2 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h2><h3 id="记分板侧边栏翻页"><a href="#记分板侧边栏翻页" class="headerlink" title="记分板侧边栏翻页"></a>记分板侧边栏翻页</h3><p>通过记分板翻页功能，你可以查看当前服务器提供的记分板侧边栏中显示的记分项正在追踪的所有玩家的分数。</p>
<p>默认的向下翻页快捷键为下方向键，向上翻页快捷键为上方向键。</p>
<h3 id="显示-x2F-隐藏记分板侧边栏"><a href="#显示-x2F-隐藏记分板侧边栏" class="headerlink" title="显示&#x2F;隐藏记分板侧边栏"></a>显示&#x2F;隐藏记分板侧边栏</h3><p>当你认为记分板侧边栏遮挡了屏幕区域时，可以通过更改配置或按下快捷键（默认<em>未指定</em>）来隐藏记分板侧边栏。</p>
<p>当你再次需要显示侧边栏时，再按一次该快捷键即可。</p>
<h3 id="显示-x2F-隐藏记分板侧边栏玩家分数"><a href="#显示-x2F-隐藏记分板侧边栏玩家分数" class="headerlink" title="显示&#x2F;隐藏记分板侧边栏玩家分数"></a>显示&#x2F;隐藏记分板侧边栏玩家分数</h3><p>有些服务器会将记分板侧边栏作为当前信息显示区，此时记分板玩家分数（红色数字）一般是多余的，不需要显示出来。你可通过更改配置来隐藏玩家分数。</p>
<h3 id="设置记分板显示位置"><a href="#设置记分板显示位置" class="headerlink" title="设置记分板显示位置"></a>设置记分板显示位置</h3><p>本模组支持六个记分板的预设位置：右（默认）、右上角、右下角、左、左上角、左下角。除此之外，你也可以设置记分板的Y轴偏移来避免遮挡其它HUD组件或被其它HUD组件遮挡（如状态效果栏）</p>
<h3 id="设置记分板侧边栏最大显示数量"><a href="#设置记分板侧边栏最大显示数量" class="headerlink" title="设置记分板侧边栏最大显示数量"></a>设置记分板侧边栏最大显示数量</h3><h4 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h4><p><code>/sbhelper maxDisplayCount &lt;count: Integer&gt; </code></p>
<p>将记分板侧边栏的最大显示数量设置为<em>count</em>，命令返回值为<em>count</em>的值。</p>
<p>当<em>count</em>为负数时会报错。</p>
<h3 id="设置记分板侧边栏不透明度"><a href="#设置记分板侧边栏不透明度" class="headerlink" title="设置记分板侧边栏不透明度"></a>设置记分板侧边栏不透明度</h3><p>本模组支持分别设置侧边栏标题及分数列表部分的背景和文字不透明度。只需在配置屏幕中设置即可。</p>
<h3 id="默认使用队内聊天"><a href="#默认使用队内聊天" class="headerlink" title="默认使用队内聊天"></a>默认使用队内聊天</h3><p><em>队伍也是记分板的一部分。旧版本有&#x2F;scoreboard teams，直到现在Mojang还是把Team类放在net.minecraft.scoreboard包里面的。</em></p>
<p><em>所以往这模组里做个跟队伍有关的东西应该不过分吧。</em></p>
<p>打开该选项后，客户端在发送聊天消息时会自动调用<code>teammsg</code>命令发送队内聊天消息而非普通聊天消息。如果打开了此选项，且发送的聊天消息以井号’#’开头，则客户端在发送消息前会去掉开头的井号，然后发送普通聊天消息。</p>
<p>以斜杠’&#x2F;‘开头的命令不受此选项影响。</p>
<h3 id="导出记分板数据"><a href="#导出记分板数据" class="headerlink" title="导出记分板数据"></a>导出记分板数据</h3><p>使用快捷键（默认*反斜线’\‘*）来打开导出屏幕。点击「记录当前记分板」即可将当前侧边栏显示的记分项的<strong>所有数据</strong>保存在内存中，你可以通过更改当前显示的记分项然后再次点击「记录当前记分板」来记录多个记分项。点击「导出已记录的记分板」会将记录的所有数据导出为一个csv文件：<code>.minecraft/versions/*你的版本名称*/scoreboard-exports/EXPORT-XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX.csv</code>。本文件按照玩家名字典序排序。</p>
<div class="note warning"><p>若记录数据后服务器修改了对应记分项的数据，则在你进行重新记录之前，模组不会同步地对记录的数据进行修改。</p>
</div>

<p>你也可以点击「直接保存当前记分板」来保存当前侧边栏显示的记分项的所有数据到<code>.minecraft/versions/*你的版本名称*/scoreboard-exports/记分项名称.csv</code>。<br><code>/sbhelper maxDisplayCount &lt;count: Integer&gt; </code></p>
]]></content>
      <tags>
        <tag>自制模组</tag>
      </tags>
  </entry>
  <entry>
    <title>游艺街 小猪之最改版服</title>
    <url>/2023/server/</url>
    <content><![CDATA[<h2 id="服务器概要"><a href="#服务器概要" class="headerlink" title="服务器概要"></a>服务器概要</h2><p>IP：加群查看。</p>
<p>游戏版本：1.19.4，若客户端版本不为1.19.4则需要安装ViaFabric模组。</p>
<p>服务器要求正版验证，无特殊情况不关（改东西或者调试机器人时除外）</p>
<p>小猪之最·服务器群：<a class="link"   href="https://jq.qq.com/?_wv=1027&k=riOZLTPw" >607471033 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><strong>加群后需要在六小时内登录一次服务器来完成身份验证，请确保自己在能登录服务器的情况下加入</strong></p>
<h3 id="加群被拒绝的可能原因"><a href="#加群被拒绝的可能原因" class="headerlink" title="加群被拒绝的可能原因"></a>加群被拒绝的可能原因</h3><p>服务器群采用自动审批，若加群请求被拒绝，原因可能为下面几条中的一条或多条：</p>
<ul>
<li>输入的玩家名不符合Minecraft玩家名规范</li>
<li>输入的玩家名在Minecraft正版玩家列表中不存在</li>
<li>输入的玩家名已被其他用户绑定（如果你认为你的玩家名被他人误绑，请联系小猪之最）</li>
</ul>
<h2 id="改版服新机制介绍"><a href="#改版服新机制介绍" class="headerlink" title="改版服新机制介绍"></a>改版服新机制介绍</h2><h3 id="轮数调整"><a href="#轮数调整" class="headerlink" title="轮数调整"></a>轮数调整</h3><p>为了让玩家体验到更多的改版游戏内容，游戏轮数由原版的5轮调整为了6轮。第5、6轮生成的奖励物品均只有积分类（山丘之王小游戏除外）。</p>
<h3 id="游戏模式"><a href="#游戏模式" class="headerlink" title="游戏模式"></a>游戏模式</h3><p>《LTWπ》目前有三种游戏模式：改版模式、经典模式与双倍奖励模式。</p>
<p><strong>改版模式</strong>为《LTWπ》的默认游戏模式。</p>
<p><strong>经典模式</strong>与改版模式相比，不包含双倍奖励、终轮投票和地脉异常机制。推荐服务器加入新人时开启此模式来让新人熟悉服务器以及各游戏的基础机制。</p>
<p>改版模式与经典模式可通过主大厅中的按钮来切换。</p>
<p><strong>双倍奖励模式</strong>基于改版模式，需要玩家花费2个金块开启且开启后不能通过按钮切换或关闭。开启后下一局所有轮均为双倍奖励轮，且玩家无法在下一局获得「积分猎手」系列进度。</p>
<div class="note info"><p>当一局游戏结束或服务器重载时，游戏模式会自动切换为改版模式。</p>
</div>

<h3 id="双倍奖励"><a href="#双倍奖励" class="headerlink" title="双倍奖励"></a>双倍奖励</h3><p>在《LTWπ》的「改版模式」中，每轮有概率为双倍奖励轮。双倍奖励轮中<strong>周期生成</strong>的奖励物资数量会翻倍，且在游戏结束后所有玩家均可以领取两次奖励。</p>
<p>前五轮游戏中每轮有25%的固定概率为双倍奖励轮，最后一轮有75%的固定概率为双倍奖励轮。</p>
<div class="note success"><p>若有玩家使用2个金块开启了双倍奖励模式，则下局游戏中每轮必定为双倍奖励轮。</p>
</div>

<h3 id="终轮投票"><a href="#终轮投票" class="headerlink" title="终轮投票"></a>终轮投票</h3><p>在《LTWπ》的「改版模式」中，第5轮领取奖励后会进入30秒的投票环节。玩家可以通过物品栏最后一格的书，从已完成制作的四个最终轮小游戏中选择一个，来对下一轮将要进行的小游戏进行投票。每个游戏初始的权重为1，每有一名玩家选择一个游戏，这个游戏的权重加3。所有玩家投票完成或30秒倒计时结束后，开始随机抽取游戏，作为最终轮中所有玩家将要游玩的游戏。每个游戏被抽到的概率为<code>该游戏的权重/所有游戏的总权重</code>。玩家在30秒内没有完成投票视为弃权，不会对各个游戏的权重产生任何影响。</p>
<div class="note info"><p>当游戏处于「经典模式」时，第5轮领取奖励后不会进入投票环节。系统会在已完成制作的四个最终轮小游戏中等概率地随机选择一个作为最终轮中所有玩家将要游玩的游戏。</p>
</div>

<h3 id="地脉异常"><a href="#地脉异常" class="headerlink" title="地脉异常"></a>地脉异常</h3><blockquote>
<p> 「地脉异常」名词来自《原神》，预计会在终末测试（三测）中修改该名词。</p>
</blockquote>
<p>在《LTWπ》的「改版模式」中，每局游戏会有一定概率在原有机制的基础上添加一个新的机制、对原有的机制进行修改或者删除原有的机制。目前将其称为「地脉异常」。</p>
<p>前5轮小游戏中「地脉异常」在展示游戏阶段中向玩家给出（概率无地脉异常）。最后一轮小游戏中「地脉异常」会在游戏进行一段时间后以类似《方块竞技场》中「突变」的形式随机生成。</p>
<h3 id="赌场修改"><a href="#赌场修改" class="headerlink" title="赌场修改"></a>赌场修改</h3><p>《LTWπ》除原版的「二十面骰」以外，增加了一个新的金粒抽取途径——幸运777代币（简称三七代币）。三七代币的抽取地点与二十面骰相同，需要1个金粒抽取。每次抽取会随机生成3个范围为[0,9]的整数，并将其组合作为抽取结果。</p>
<div class="note-large red"><div class="notel-title"><p>抽取结果与奖惩（在扣除抽取费用后）</p>
</div><div class="notel-content"><p><strong>777 - 大成功</strong>：奖励15个金锭与1个纠缠之缘。</p>
<p><strong>000 - 大失败</strong>：清空所有金粒并逐出赌场。</p>
<p><strong>三个除7、0以外的相同数字 - 小成功</strong>：奖励5个金锭与1个纠缠之缘。</p>
<p><strong>两个0与一个其他数字 - 小失败</strong>：金粒数量减半（向下取整）。</p>
<p><strong>两个7与一个其他数字</strong>：奖励两个金锭。</p>
<p><strong>一个7与两个除0以外的其他数字</strong>：奖励两个金粒。</p>
<p><strong>其他情况</strong>：一无所获。</p>
</div></div>

<p>赌场的二十面骰抽出「大成功」时除奖励1金块外，还会奖励1个纠缠之缘。「大失败」的触发点数由1改为了19，原来的1触发的事件为「一无所获」。</p>
<p>在赌场可花费9个金块购买传送卷轴。购买后玩家可以通过主手持有传送卷轴时按切换主副手物品按键（默认为<code>f</code>）来快速传送到赌场。</p>
<h3 id="祈愿系统"><a href="#祈愿系统" class="headerlink" title="祈愿系统"></a>祈愿系统</h3><blockquote>
<p>「祈愿」「纠缠之缘」「原石」等名词来自《原神》，预计会在终末测试（三测）中修改这些名词。</p>
</blockquote>
<p>《LTWπ》的每一局游戏结束后，玩家会获得数量与自己积分数相等的原石，每64个原石会自动合成为1个纠缠之缘。玩家还可以通过游戏内奖励物品、使用2个金锭购买、赌场等途径获得纠缠之缘。纠缠之缘可用于在原版制作人员聚集地（请自行寻找）进行祈愿。</p>
<p>祈愿物品分为五星、四星和三星三种稀有度。五星物品为一些有少量游戏内加成的玩家头颅，四星物品为无游戏内加成的方块。这些物品都可以在商店内的「头戴物品更换处」更换，更换后会在每局游戏开始前和每局最后一轮游戏结束后的选择奖励前自动戴在自己头上。三星物品为若干个金粒。</p>
<div class="note-large blue"><div class="notel-title"><p>祈愿规则</p>
</div><div class="notel-content"><p>每次祈愿获得五星物品的基础概率为0.6%，综合概率（含保底）为1.6%。最多90次祈愿必定能通过保底获得五星物品。</p>
<p>每次祈愿获得四星物品的基础概率为5.1%，综合概率（含保底）为13%。最多10次祈愿必定能通过保底获得四星以上物品，通过保底获得四星物品的概率为99.4%，获得五星物品的概率为0.6%。</p>
<p>当玩家重复获得四星物品时，会返还祈愿所用的纠缠之缘（祈愿次数仍然累计）。第2-5次获得重复五星物品时，会返还祈愿所用的纠缠之缘（是1个，不是2个）。第6+次获得重复五星物品时，会返还5个纠缠之缘。</p>
</div></div>

<h3 id="限时活动"><a href="#限时活动" class="headerlink" title="限时活动"></a>限时活动</h3><p>「游艺街 小猪之最改版服」会不定期举办限时活动，多数活动为特殊的小游戏。参加限时活动并达成相应进度可以获得原石奖励。</p>
<p>目前已成功举办的活动有：<strong>鸭子快跑</strong>（2023年愚人节）、<strong>元素战争</strong>（2023年劳动节）。</p>
<div class="note warning"><p>限时活动进度会在活动结束后对没有达成相应进度的玩家隐藏。</p>
</div>

<h3 id="其它修改"><a href="#其它修改" class="headerlink" title="其它修改"></a>其它修改</h3><ul>
<li>游戏开始前的倒计时根据玩家数量动态变化，方便在人数较少时更快开始游戏以及人数较多时有更多人参与游戏。3-4人时为30秒，5人时为40秒，6人时为50秒，7人时为55秒，8人及以上时为60秒。</li>
<li>主大厅内设有赞助者大厅入口，可通过进入游戏后左转进下界传送门来进入。</li>
<li>部分进度的达成难度提升。</li>
<li>为游戏增加了剩余时间的具体数值显示。</li>
<li>商店内有新的物品升级，并且对物品的价格进行了调整。</li>
<li>游戏中的玩家可以通过将物品放在物品栏最后一格的命令方块上来摧毁该物品（主要是为了避免玩家出现物品栏满时无法拾取奖励物品的情况）。</li>
</ul>
<h2 id="各个官服没有的游戏的详细规则"><a href="#各个官服没有的游戏的详细规则" class="headerlink" title="各个官服没有的游戏的详细规则"></a>各个官服没有的游戏的详细规则</h2><h3 id="山丘之王-KOTH"><a href="#山丘之王-KOTH" class="headerlink" title="山丘之王 - KOTH"></a>山丘之王 - KOTH</h3><div class="note default"><p>游戏总限时<strong>120秒</strong>。</p>
</div>

<p>处在地图中央红区的玩家每秒会获得1点能量值，玩家可以用快捷栏第9格的击退鱼（未处于中央红区时为「强力击退鱼」，击退力更加强大）来将准备登上红区的玩家打出红区或阻止其他玩家进入红区。</p>
<p>倒计时小于等于75秒时，处在地图中央红区的玩家每秒会获得2点能量值，而不是1点。</p>
<p>当某种条件满足时，游戏内会定期刷新奖励物资，其位于距离中央红区最远的地方。奖励物资除常见的积分、金粒和生存模式物品外，还有当局的能量值奖励，甚至还有能量值翻倍&#x2F;减半这类可能使得玩家「翻盘」的物品。</p>
<p>倒计时结束后，将依据能量值从大到小排列名次。</p>
<h3 id="钻石风暴-DIAMOND"><a href="#钻石风暴-DIAMOND" class="headerlink" title="钻石风暴 - DIAMOND"></a>钻石风暴 - DIAMOND</h3><div class="note default"><p>游戏总限时<strong>300秒</strong>，目标是积累尽可能多的能量值，能量值最高的玩家获得胜利。</p>
</div>

<p>将游戏「钢铁狂潮」的需求物品从铁锭改成了钻石，掉落的物品数量为1&#x2F;2而不是1&#x2F;3，其它不变。</p>
<h3 id="矿车抢座-SEAT"><a href="#矿车抢座-SEAT" class="headerlink" title="矿车抢座 - SEAT"></a>矿车抢座 - SEAT</h3><p>每轮游戏开始时场地上会生成一定数量的矿车，玩家在该轮的限定时间之内保持坐在矿车上即可获得该轮的胜利。由于矿车数量总比当前存活玩家数量少，所以一定会有玩家因抢不到矿车而在一轮中失败并失去1条生命。</p>
<p>玩家可以通过攻击其他玩家来阻止对方占领矿车，或将对方赶下矿车（10%概率），或将对方打下虚空。被打下虚空的玩家同样会减少1条生命。</p>
<p>当时间结束时若仍有未占领的矿车，则会进入加时赛。加时赛期间，在普通赛成功占领矿车的玩家会被传送到休息区。并且剩余的矿车一旦被占领，占领者视为胜利并传送到休息区，直至剩下矿车数为0或时间结束（此时所有未处于休息区的玩家均失败）。</p>
<div class="note warning"><p>生命为0的玩家会被淘汰，使用金苹果和附魔金苹果可增加生命数。</p>
</div>

<p>最后未被淘汰的玩家胜利。</p>
<h3 id="遗迹遍历-PARKOUR-OLD"><a href="#遗迹遍历-PARKOUR-OLD" class="headerlink" title="遗迹遍历 - PARKOUR_OLD"></a>遗迹遍历 - PARKOUR_OLD</h3><div class="note default"><p>游戏总限时<strong>130秒</strong>。</p>
</div>

<p>跑酷地图与「遗迹寻宝」完全相同，但（几乎）没有可供拾取的各种物品，取而代之的是10个目标点。</p>
<p>玩家需要尽可能快地遍历所有目标点来获得游戏的胜利。若一名玩家遍历了所有目标点，则他视为通关并转为旁观模式，同时排入游戏排行榜。若有3名玩家遍历了所有目标点，则游戏会直接结束，前三名按照这三名玩家的完成速度决出。若时间结束时完成人数小于3，则剩下的玩家会依据遍历的目标点数目排在已完成的玩家后（此时这些玩家允许并列）。</p>
<h3 id="尸海寻路-ZOMBIE"><a href="#尸海寻路-ZOMBIE" class="headerlink" title="尸海寻路 - ZOMBIE"></a>尸海寻路 - ZOMBIE</h3><div class="note info"><p>游戏的目标是积累尽可能多的能量值，能量值最高的玩家获得胜利。</p>
</div>

<p>游戏开始后，僵尸会从两个固定的生成点不断生成。玩家拥有一把攻击力为4.3且攻速极快的木剑（只能在本局使用），用来对付成群的僵尸。地图周围的水区域会对玩家及僵尸造成伤害，且对僵尸造成的伤害更高。</p>
<p>每秒每名存活玩家会获得1点能量值，当玩家击杀僵尸时会获得额外的能量值。</p>
<p>各种僵尸的特性：</p>
<ul>
<li><p>普通僵尸：生命值30，击杀获得3能量值。</p>
</li>
<li><p>发射器僵尸：生命值30，每2秒会发射1根普通箭矢，击杀获得5能量值。</p>
</li>
<li><p>附魔发射器僵尸：生命值30，每2秒会发射1根缓慢+虚弱箭矢，击杀获得7能量值。</p>
</li>
<li><p>持剑僵尸：生命值30，持有下界合金剑，攻击伤害高于普通僵尸，击杀获得7能量值。</p>
</li>
<li><p>黑曜石僵尸：生命值200，击杀获得20能量值。</p>
</li>
<li><p>TNT僵尸：生命值30，每次被攻击有10%的概率自爆。击杀获得20能量值。</p>
</li>
</ul>
<p>游戏进行过程中会随时间触发固定事件：</p>
<ul>
<li><p>僵尸生命值提升（40s）：所有原来生命值上限为30的僵尸生命值上限提升至50，且满血僵尸的当前生命值也提升至50。</p>
</li>
<li><p>僵尸攻击伤害提升（40s）：所有非持剑僵尸的攻击伤害提升0.5倍。</p>
</li>
<li><p>僵尸移动速度与击退抗性提升（60s）：字面意思。</p>
</li>
<li><p>进入强制死亡（60s）：所有存活中玩家会被给予时长近乎无限的凋零效果。</p>
</li>
</ul>
<h3 id="掘一死箭-ARROW"><a href="#掘一死箭-ARROW" class="headerlink" title="掘一死箭 - ARROW"></a>掘一死箭 - ARROW</h3><div class="note default"><p>游戏总限时<strong>90秒</strong>，90秒后进入强制死亡模式。</p>
</div>

<p>游戏场地设在一个有3层TNT分布的塔内。开始10秒后玩家会获得一把可无限使用的弓和一根光灵箭。将箭射在TNT方块上即可使其爆炸（直接消失）。如果射出的箭为满蓄力，则会在命中TNT时额外向周围发射4根分裂箭，并使其射中的TNT爆炸。</p>
<p>玩家的目标是通过射击其他玩家脚下的TNT使其坠落到下面一层，并最终落入水中。</p>
<div class="note warning"><p>落入水中的玩家会被淘汰，坚持到最后没有落入水中的玩家可获得第一名。</p>
</div>

<p>在强制死亡模式中，玩家周围会持续生成射向玩家脚下（并试图引燃脚下TNT）的箭。玩家需要通过持续移动来避免掉落。</p>
<h3 id="富翁之路-HOPPER"><a href="#富翁之路-HOPPER" class="headerlink" title="富翁之路 - HOPPER"></a>富翁之路 - HOPPER</h3><div class="note default"><p>游戏总限时<strong>360秒</strong>。</p>
</div>

<p>这是一个最终轮游戏，时间限制为6分钟。Hopper是漏斗的意思，因此玩家的目标是合成漏斗矿车、收集各种矿石和其他物资并放进漏斗矿车中出售以获得现金。排名按照现金从多到少排名。需要注意的是，本游戏中漏斗和矿车不一定需要使用原版的合成配方合成，你也可以按照下面的配方合成一个漏斗矿车。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/ltwpi/ltwpi1.png"
                     
                ></p>
<p>地图为一个32x32x32区域，每个方块都是随机生成的，出生点和死亡后的重生点也是随机的，不过系统会保证玩家的出生点附近没有水和岩浆（它们都会被替换为木头，也算是减小了出生点附近没木头的概率）。</p>
<p>玩家在拥有10个粗铁或铁锭和1个箱子后，可以合成漏斗矿车。你需要按切换副手按键（默认为<code>f</code>）来部署漏斗矿车。部署后的矿车内有3个可以放物品的栏位、1个末影之眼和1本附魔书。将鼠标放在末影之眼上可以查看本轮游戏中所有可出售物品对应的价值，点击末影之眼可以回收漏斗矿车（因为它不能直接通过攻击来回收）。将需要出售的物品放入漏斗矿车后，点击附魔书即可出售。成功出售之后玩家会获得现金，同时漏斗矿车和漏斗矿车内可出售的物品不会回收，而不可出售的物品会通过掉落物的形式返还。如果漏斗矿车内没有任何可出售的物品，出售不会成功，同时漏斗矿车也不会回收。</p>
<p>可出售的物品皆有其固定的基础价值。此外，游戏开始时，系统会随机指定2种物品价值变为基础价值的2倍，1种物品价值变为基础价值的5倍。一次出售获得的总现金在数值上等于漏斗矿车内前三栏物品的总价值之和。</p>
<h3 id="危险运输-RIVER"><a href="#危险运输-RIVER" class="headerlink" title="危险运输 - RIVER"></a>危险运输 - RIVER</h3><div class="note default"><p>游戏倒计时初始值<strong>60秒</strong>，每有一人成功运输物资时，使倒计时初始值减少2秒或3秒并使倒计时重置为初始值。</p>
</div>

<p>游戏场地分为起点、小河和物资区三部分。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/img/ltwpi/ltwpi2.png"
                     
                ></p>
<p>玩家的目标是通过小河上的桥前往物资区运输尽可能多的物资（箱子）回起点。玩家可以通过对物资按下<strong>使用键</strong>（默认为鼠标右键）来拿起物资，每位玩家同时只能拿起一件物资。持有物资的玩家无法近战攻击其他玩家。当持有物资的玩家到达起点时，会为玩家增加一分，同时倒计时初始值会减少，然后倒计时重置为初始值。最后桥会损毁一部分。</p>
<p>物资区有两个特殊生成点。当场上没有奖励物品、奖励物资（末影箱）和持有奖励物资的玩家后，奖励物资有可能在特殊生成点生成。奖励物资在被运回起点后不会为玩家加分或影响倒计时与桥，取而代之的是生成一个随机品质的奖励物品。奖励物资的其他属性与普通物资相同。</p>
<p>玩家初始有3条生命值，掉入河中会损失一条生命值且会丢失携带的物资。生命值可通过使用金苹果或附魔金苹果增加，也可通过使用不死图腾抵抗最后一条生命的流失。</p>
<p>当倒计时为零或场上没有存活玩家时，游戏结束。排名依据为玩家成功运输物资的数量。</p>
<h3 id="子弹时间-BULLET"><a href="#子弹时间-BULLET" class="headerlink" title="子弹时间 - BULLET"></a>子弹时间 - BULLET</h3><div class="note success"><p>本游戏的设计者为<a class="link"   href="https://github.com/JesKi13567" >JK137 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>，由小猪之最使用数据包实现。</p>
</div>

<div class="note info"><p>游戏的目标是积累尽可能多的能量值，能量值最高的玩家获得胜利。</p>
</div>

<p>玩家会自高塔天花板下方向底部缓慢降落，同时五种生物会不断生成在高塔天花板下方的外围，且降落速度比玩家稍快。玩家可以无限制使用没有任何附魔的弓与箭来击杀其它生物（当然也可以射玩家，不过没有伤害只有击退），但不允许近战。</p>
<p>各种生物的特性如下所示：</p>
<ul>
<li>僵尸：15生命值，击杀后获得4能量值。</li>
<li>卫道士：25生命值，击杀后获得10能量值。</li>
<li>女巫：15生命值，击杀后获得6能量值，且下一发射出的箭会变为凋零箭。</li>
<li>唤魔者：20生命值，击杀后获得8能量值，且击杀者会被传送到原位置的上方一格位置处。</li>
<li>村民：1生命值，头顶有一个具有4生命值的「苹果」。击杀「苹果」后获得40能量值，同时村民本体消失。击杀村民本体会失去25能量值。玩家的能量值不会小于零。</li>
</ul>
<p>当玩家距离高塔墙壁过近时，任何「获得能量值」的操作均会失效。</p>
<p>玩家降落到高塔底部时会进入旁观模式，所有玩家均进入旁观模式后游戏结束。</p>
]]></content>
      <tags>
        <tag>服务器</tag>
      </tags>
  </entry>
</search>
